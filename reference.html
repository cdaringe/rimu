<!DOCTYPE HTML>
<html lang="en">
<head>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta charset="UTF-8">
  <title>Rimu Reference</title>
  <link rel="stylesheet" href="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css">
  <link rel="stylesheet" href="http://yandex.st/highlightjs/7.3/styles/default.min.css">
<style>
  /* Bootstrap tweaks. */
  body {
    margin: 1em;
    max-width: 50em;
    font-family: Arial, Helvetica, sans-serif;
  }
  h1, h2, h3, h4, h5, h6 {
    color: #527bbd;
  }
  h1 { font-size: 2.2em; }
  h2 { font-size: 1.5em; }
  h3 { font-size: 1.2em; }
  h4 { font-size: 1.1em; }
  h5 { font-size: 1.0em; }
  h6 { font-size: 0.9em; }
  h2, h3, h4, h5, h6 {
    line-height: normal;
    margin-top: 1.0em;
    margin-bottom: 0.2em;
  }
  h2 {
    margin-top: 1.5em;
    border-bottom: 1px solid rgba(0, 0, 0, 0.15);
  }
  a, a:hover {
    color: #527bbd;
  }
  li, dd {
    margin-bottom: 0.25em;
  }
  p, pre, li, dt, dd, blockquote p {
    font-size: inherit;
    line-height: 1.45;
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
  blockquote {
    border: none;
    border-left: 5px solid #eeeeee;
    font-family: Georgia, serif;
    font-style: italic;
    width: 80%;
    margin: 1.5em 0;
    color: #383838;
  }
  .cite {
    font-style: italic;
    color:#777;
    padding:5px 0;
  }
  .cite::before {
    content: "\2014 \2009";
  }
  pre {
    padding: 6px;
    line-height: normal;
  }
  .light-background {
    background-color: #f8f8f8;
    border: none;
  }
  code {
    color: inherit;
    font-size: inherit;
  }
  *:not(pre) > code {
    border: none;
    background-color: #f8f8f8;
  }
  .dl-horizontal > dt {
    text-align: left;
    margin-top: 1.0em;
  }
  .dl-horizontal > dd {
    margin-top: 1.0em;
  }
  /* highlight.js tweaks. */
  pre > code {
    background-color: inherit;
    padding: 0;
  }
  pre span {
    opacity: 1 !important;
  }
  /* Rimu styles. */
  .verse {
    margin: 1.5em 20px;
  }
  div.verse p, p.verse {
    font-family: Georgia, serif;
    white-space:pre;
    margin-top: 0.75em;
    margin-bottom: 0.75em;
  }
  .sidebar {
    border: 1px solid silver;
    border-radius:4px;
    background: #ffffee;
    padding: 10px;
    margin: 1.5em 20px;
  }
  div.sidebar *:first-child {
    margin-top: 0.2em;
  }
  /* List item counters and definition list numbering. */
  dl {
    counter-reset: dl-counter;
  }
  dl > dt {
    counter-increment: dl-counter;
  }
  ol {
    counter-reset: ol-counter;
  }
  ol > li {
    counter-increment: ol-counter;
  }
  ul {
    counter-reset: ul-counter;
  }
  ul > li {
    counter-increment: ul-counter;
  }
  .dl-counter:before {
    content: counter(dl-counter) " ";
  }
  .ol-counter:before {
    content: counter(ol-counter) " ";
  }
  .ul-counter:before {
    content: counter(ul-counter) " ";
  }
  .dl-numbered > dt:before {
    content: counter(dl-counter) ". ";
  }
  .page-break {
    page-break-before: always;
  }
  .no-page-break {
    page-break-inside: avoid;
  }
  .align-left {
    text-align: left;
  }
  .align-center {
    text-align: center;
  }
  .align-right {
    text-align: right;
  }
  .line-breaks {
    white-space:pre;
  }
</style>
<style>
  body {
    padding-left: 21em;
  }
  #toc {
    position: fixed;
    top: 0;
    left: 0;
    bottom: 0;
    width: 18em;
    border-right: 1px solid #cccccc;
    overflow-y: auto;
    overflow-x: hidden;
    box-shadow: 0 0 3px rgba(0, 0, 0, 0.35);
  }
</style>
<style>
  @media print {
    .no-print, .no-print * {
      display: none !important;
    }
    body {
      padding-left: 1em;
    }
  }
  #toc {
    padding-left: 1em;
  }
  #toc .h1 {
    font-size: 110%;
    font-weight: bold;
    margin-top: 0.5em;
    margin-bottom: 0.4em;
  }
  #toc .h2 {
    margin-top: 0.4em;
  }
  #toc .h3 {
    margin-left: 1.5em;
    font-size: 90%;
  }
  #toc div:nth-child(even) {
    background-color: #f8f8f8;
  }
</style>
</head>
<body>
<div id="contents">

<style scoped>
.example td {
  margin: 0;
  padding: 0;
}
.example-header {
  color: #527bbd;
  font-weight: bold;
  padding: 0.5em !important;
}
.example-source, .example-rendered {
  border: none;
  background-color: inherit;
  margin: 0;
  padding: 0.6em;
}
.example-edit {
  margin: 0;
  border: 0;
  width: 100%;
  background-color: #ffe;
  box-sizing: border-box;
  display: none;
}
</style>
<script src="rimu.min.js"></script>
<script>
function editExample(name) {
  var source = document.getElementById(name + '-source');
  if (source.style.display === 'none') {
    return;
  }
  var edit = document.getElementById(name + '-edit');
  edit.value = source.textContent;
  edit.style.height = (edit.parentNode.offsetHeight - 1) + 'px';
  edit.style.display = 'block';
  source.style.display = 'none';
}
function updateExample(name) {
  var edit = document.getElementById(name + '-edit');
  var rendered = document.getElementById(name + '-rendered');
  rendered.innerHTML = Rimu.render(edit.value);
  edit.style.height = edit.parentNode.offsetHeight + 'px';
}
</script>
<div id="toc" class="no-print">
  <h2 style="font-size:1.2em; margin-top:1.0em">Links</h2>
  <div class="h2"><a href="index.html">Rimu Home</a></div>
  <div class="h2"><a href="rimuplayground.html">Rimu Playground</a></div>
  <div class="h2"><a href="reference.html">Rimu Reference</a></div>
  <div class="h2"><a href="tips.html">Rimu Tips</a></div>
  <div class="h2"><a href="http://github.com/srackham/rimu" target="_blank">Github</a></div>
  <div class="h2"><a href="https://npmjs.org/package/rimu" target="_blank">npm</a></div>
  <h2 style="font-size:1.2em; margin-top:1.0em">Table of Contents</h2>
  <div id="auto-toc"></div>
</div>
<h1>Rimu Reference</h1>
<p>Rimu is a readable-text to HTML markup language inspired by AsciiDoc
and Markdown.</p>
<p>At its core Rimu is a simple readable-text markup similar in scope to
Markdown, but with two additional areas of functionality (both built
into the Rimu markup syntax):</p>
<ul><li>Markup generation can be customized and extended.
</li><li>Rimu includes a simple, flexible macro language.
</li></ul><p>Plus:</p>
<ul><li>A large subset of Rimu syntax is <a href="tips.html#markdown-compatible">Markdown
  compatible</a>.
</li><li>Rimu is fast (same speed as <em>marked 0.3.2</em> compiling Rimu
  <code>README.md</code>).
</li><li>The generated HTML is compatible with all modern browsers.
</li></ul><h2>Installing Rimu</h2>
<p>Install Rimu as a Node.js module (includes the <code>rimu</code> library and the
<a href="reference.html#rimuc-command">rimuc</a> command-line tool):</p>
<pre class="no-highlight"><code>sudo npm install -g rimu</code></pre>
<h2>Resources</h2>
<h3>Learning</h3>
<ul><li>Experiment with Rimu in the <a href="rimuplayground.html">Rimu Playground</a> or open
  the <code>rimuplayground.html</code> file locally in your browser.
</li><li>Edit the examples (click the <em>Edit icon</em> <span class="icon-edit"></span> in the examples
  below to enable live example editing of the Rimu source).
</li><li>Read <a href="tips.html">Rimu Tips</a>.
</li></ul><h3>Example applications</h3>
<p>See the <a href="#api">API documentation</a>.</p>
<ul><li>Rimu includes the <a href="#rimuc-command">rimuc</a> command-line tool and the
  <a href="rimuplayground.html">Rimu Playground</a> &mdash; examples of using Rimu in Node.js
  and in the browser respectively.
</li><li>A <a href="https://github.com/srackham/rimu-chrome-extension.git">Chrome browser
  extension</a>
  for rendering Rimu Markup files directly in the browser.
</li></ul><h2 id="rimuc-command"><code>rimuc</code> command</h2>
<p><em>rimuc</em> is a Node.js command-line tool that converts Rimu source (or
<a href="tips.html#markdown-compatible">Rimu compatible Markdown</a>) to HTML.</p>
<p>The <code>--styled</code> option outputs an HTML5 conformant document containing
the generated HTML, themed styling, an optional table of contents and
optional code syntax highlighting.</p>
<p>Run <code>rimuc --help</code> to view the <code>rimuc</code> manpage:</p>
<pre class="light-background no-highlight"><code>NAME
  rimuc - convert Rimu source to HTML

SYNOPSIS
  rimuc [OPTIONS...] [FILES...]

DESCRIPTION
  Reads Rimu source markup from stdin, converts them to HTML
  then writes the HTML to stdout. If FILES are specified
  the Rimu source is read from FILES. The contents of files
  with an .html extension are passed directly to the output.

  If a file named .rimurc exists in the user's home directory
  then its contents is processed (with --safe-mode 0) after
  --prepend sources but before any other inputs.
  This behavior can be disabled with the --no-rimurc option.

OPTIONS
  -h, --help
    Display help message.

  -l, --lint
    Check the Rimu source for inconsistencies and errors.

  -o, --output OUTFILE
    Write output to file OUTFILE instead of stdout.

  -p, --prepend SOURCE
    Process the SOURCE text before other inputs.
    Rendered with --safe-mode 0.

  --no-rimurc
    Do not process .rimurc from the user's home directory.

  -s, --styled
    Include HTML header and footer and Bootstrap CSS styling in
    output. If only one source file is specified and the --output option
    is not used then the output is written to a same-named file with
    an .html extension.

  --safe-mode NUMBER
    Non-zero safe modes ignore: Definition elements; API option elements;
    HTML attributes in Block Attributes elements.
    Also specifies how to process HTML elements:
    --safe-mode 0 renders HTML (default).
    --safe-mode 1 ignores HTML.
    --safe-mode 2 replaces HTML with --html-replacement option value.
    --safe-mode 3 renders HTML as text.
    Add 4 to --safe-mode to ignore Block Attribute elements.
    Add 8 to --safe-mode to allow Macro Definitions.

  --html-replacement TEXT
    Embedded HTML is replaced by TEXT when --safe-mode is set to 2.
    Defaults to '&lt;mark&gt;replaced HTML&lt;/mark&gt;'.

  --theme THEME, --title TITLE, --highlightjs, --mathjax,
  --sidebar-toc, --dropdown-toc, --custom-toc, --section-numbers
    Shortcuts for the following prepended macro definitions:
    --prepend "{--theme}='THEME'"
    --prepend "{--title}='TITLE'"
    --prepend "{--highlightjs}='true'"
    --prepend "{--mathjax}='true'"
    --prepend "{--sidebar-toc}='true'"
    --prepend "{--dropdown-toc}='true'"
    --prepend "{--custom-toc}='true'"
    --prepend "{--section-numbers}='true'"

STYLING MACROS AND CLASSES
  The following macros and CSS classes are available when the
  --styled option is used:

  Macro name         Description
  ______________________________________________________________
  --theme            Set styling themes.
                     Theme names: default, graystone.
  --title            HTML document title (1).
  --highlightjs      Set to non-blank value to enable syntax
                     highlighting with Highlight.js.
  --mathjax          Set to a non-blank value to enable MathJax.
  --sidebar-toc      Set to a non-blank value to generate a
                     table of contents sidebar (1).
  --dropdown-toc     Set to a non-blank value to generate a
                     table of contents dropdown menu (1).
  --custom-toc       Set to a non-blank value if a custom table
                     of contents is used (1).
  --section-numbers  Apply h2 and h3 section numbering (1).
  ______________________________________________________________
  (1) Must be defined prior to header (--prepend or .rimurc).

  CSS class        Description
  ______________________________________________________________
  verse            Verse format (paragraphs, division blocks).
  sidebar          Sidebar format (paragraphs, division blocks).
  cite             Quote and verse attribution.
  align-left       Text alignment left.
  align-center     Text alignment center.
  align-right      Text alignment right.
  no-print         Do not print.
  line-breaks      Honor line breaks in source text.
  page-break       Force page break before the element.
  no-page-break    Avoid page break inside the element.
  dl-numbered      Number labeled list items.
  dl-horizontal    Format labeled lists horizontally.
  dl-counter       Prepend dl item counter to element content.
  ol-counter       Prepend ol item counter to element content.
  ul-counter       Prepend ul item counter to element content.
  ______________________________________________________________</code></pre>
<p>Example usage:</p>
<ol><li>Use <em>rimuc</em> as a filter:
<pre class="no-highlight"><code>echo 'Hello *Rimu*!' | rimuc</code></pre>
</li><li>Generate a styled HTML Web page including a sidebar table of
   contents and code syntax highlighting styling macro shortcut
   options:
<pre class="no-highlight"><code>rimuc --styled --sidebar-toc --highlightjs reference.rmu</code></pre>
</li><li>Prefix a custom macro definition:
<pre class="no-highlight"><code>rimuc --prepend "{annotations}='yes'" showcase.rmu</code></pre>
</li><li>Compile multiple source files to single output file:
<pre class="no-highlight"><code>rimuc -o book.html frontmatter.rmu chapter*.rmu backmatter.rmu</code></pre>
</li></ol><h3><code>--styled</code> option</h3>
<p>The <code>--styled</code> option prepends a header file and appends a footer file
to the list of source files. The Rimu markup in the header and footer
files performs the following functions:</p>
<ul><li>Outputs an HTML5 document.
</li><li>Supports <a href="#toc-generation">table of contents generation</a>.
</li><li>Supports named <a href="tips.html#themes">themes</a>. There are two built-in
  themes: <code>default</code> (the default theme) and <code>graystone</code>.
</li><li>Includes <a href="http://getbootstrap.com/2.3.2/">Bootstrap</a> for styling.
</li><li>Includes additional styles for verses, sidebars, text alignment,
  page break control and section numbering (see <code>rimuc --help</code> command
  and <a href="tips.html">Rimu Tips</a>).
</li><li>If the <code>--highlightjs</code> macro is non-blank
  <a href="https://highlightjs.org/">Highlightjs</a> is included.
</li><li>If the <code>--mathjax</code> macro is non-blank
  <a href="https://www.mathjax.org/">MathJax</a> is included.
</li><li>Includes a JavaScript slug generator to synthesize header <code>id</code>
  attributes.
</li><li>Can be used to <a href="tips.html#rimuc-html">convert raw HTML and arbitrary Markdown
  files</a>.
</li></ul><p>All features enabled by the <code>--styled</code> option are implemented with
Rimu source code in the header and footer files &mdash; they are not
hard-wired into Rimu &mdash; and serve to illustrate the power and
flexibility of the Rimu markup language.</p>
<h3>Slug generation</h3>
<p>The <code>--styled</code> option includes a JavaScript slug generator to
synthesize header identifier slugs at load-time for top level <code>h1</code>,
<code>h2</code> and <code>h3</code> HTML header elements that do not already have an
explicit <code>id</code> attribute.  Slugs are generated from header titles as
follows:</p>
<ol><li>Convert the title to lowercase.
</li><li>Replace spaces with a dash.
</li><li>Remove characters that are not alphanumeric, dashes or
  underscores. If no characters remain the slug is set to <code>x</code>.
</li><li>If an existing element has a matching id then the slug is
  successively postfixed with <code>-2</code>, <code>-3</code>&hellip; until a unique id is
  found.
</li></ol><p>For example a header with the title <code>The End!</code> will be assigned an
<code>id</code> attribute value <code>the-end</code>.</p>
<p><b>NOTE</b>: Synthesised slugs are generated dynamically when the page is
rendered and are not visible from other documents &mdash; if you want to
link the location from another document you will need to create an
explicit anchor using a <a href="#block-attributes">Block Attribute</a> <em>id</em>. For
example:</p>
<pre class="no-highlight"><code>.#section1
## This section header has attribute `id="section1"`</code></pre>
<h3 id="toc-generation">Table of contents generation</h3>
<p>In conjunction with the <a href="reference.html#rimuc-command">rimuc</a> <code>--styled</code> option, the <code>--sidebar-toc</code>
and <code>--dropdown-toc</code> options will generate sidebar-styled and
dropdown-styled table of contents (TOC) respectively. The
<code>--custom-toc</code> option allows the user to include a custom TOC.</p>
<p>If the <code>--sidebar-toc</code> macro or the <code>--dropdown-toc</code> macro is
non-blank then JavaScript and HTML is included in the output to
generate (at load time) a TOC from the top level <code>h1</code>, <code>h2</code> and <code>h3</code>
HTML header elements.  This page was compiled using the
<code>--sidebar-toc</code> option, the <a href="rimuplayground.html">Rimu Playground</a> page has
been compiled using the <code>--dropdown-toc</code> option.</p>
<p>Use the <code>no-auto-toc</code> CSS class attribute to exclude a section header
from the TOC, for example:</p>
<pre class="no-highlight"><code>.no-auto-toc
## This header does not appear in the TOC</code></pre>
<h3>Custom Table of contents</h3>
<p>The <code>--custom-toc</code> option can be used in conjunction with the
<code>--sidebar-toc</code> and <code>--dropdown-toc</code> options. The <code>--custom-toc</code>
option inhibits the generation of an HTML TOC container.  It is up to
the user to include a custom HTML TOC (Rimu documentation has a custom
TOC).</p>
<p>Here is the default sidebar TOC container. Use it as a template to
build a custom sidebar TOC:</p>
<pre class="no-highlight"><code>&lt;div id="toc" class="no-print"&gt;
  &lt;div id="auto-toc"&gt;&lt;/div&gt;
&lt;/div&gt;</code></pre>
<p>Here is the default dropdown TOC container (including &ldquo;hamburger&rdquo; TOC
button). Use it as a template to build a custom dropdown TOC:</p>
<pre class="no-highlight"><code>&lt;div id="toc-button" onclick="toggleToc()" class="no-print"&gt;&amp;#8801;&lt;/div&gt;
&lt;div id="toc" class="no-print"&gt;
  &lt;div id="auto-toc"&gt;&lt;/div&gt;
&lt;/div&gt;</code></pre>
<ul><li>Include your TOC entries (or any custom elements) anywhere inside
  the <code>id="toc"</code> div element.
</li><li>The auto-generated TOC is injected into the <code>&lt;div
  id="auto-toc"&gt;&lt;/div&gt;</code> element &mdash; omit this <code>div</code> to inhibit all
  auto-generated TOC entries.
</li></ul><h2 id="api">API</h2>
<p>Rimu has just one API to convert Rimu markup to HTML:</p>
<pre class="no-highlight"><code>render(source [, options])</code></pre>
<p>The <code>source</code> argument is a string containing Rimu markup. The return
value is a string containing the resultant HTML.
The optional <code>options</code> argument controls rendering behaviour.</p>
<p>The <code>render()</code> API is stateful: Macros and custom element definitions
are retained across API calls along with API options.
Use the <code>reset</code> option to set the default state.</p>
<h3>Example usage</h3>
<p>Node.js example (Rimu has been previously installed from
<a href="https://npmjs.org/package/rimu">npm</a>):</p>
<pre class="javascript no-highlight"><code>var Rimu = require('rimu');
var html= Rimu.render('Hello *Rimu*!', {safeMode:1});</code></pre>
<p>HTML script tag example (the compiled and minified <code>rimu.min.js</code> library
can be found in the Rimu npm package <code>./rimu/bin</code> folder):</p>
<pre class="xml no-highlight"><code>&lt;script src="rimu.min.js"&gt;&lt;/script&gt;
&lt;script&gt;
  console.log(Rimu.render('Hello *Rimu*!', {reset:true, safeMode:2}));
&lt;/script&gt;</code></pre>
<h3>API options</h3>
<p>The <code>options</code> argument is an object with zero or more of the following
properties:</p>
<dl class="dl-horizontal"><dt><code>safeMode</code></dt><dd>
This option has a number value that controls how Rimu renders embedded
HTML and how Rimu definition and option elements will be processed:
<div><pre class="light-background no-highlight"><code>0 =&gt; Render HTML (default behavior).
1 =&gt; Ignore HTML.
2 =&gt; Replace HTML with the 'htmlReplacement' option string.
3 =&gt; Render HTML as text.
Add 4 to safeMode to ignore Block Attribute elements.
Add 8 to safeMode to allow Macro Definitions.</code></pre>
<ul><li>If <code>safeMode</code> is zero all Rimu elements will be processed.
</li><li>If <code>safeMode</code> is non-zero the following Rimu elements are ignored:
<ul><li>Rimu definition elements (<em>Delimited Block</em>, <em>Macro</em>, <em>Quote</em>
    and <em>Replacement</em> definitions).
</li><li><em>API Option</em> elements.
</li><li>HTML attributes in <em>Block Attribute</em> elements.
</li></ul></li><li>Add 4 to <code>safeMode</code> to ignore <em>Block Attribute</em> elements completely,
  this ensures HTML element IDs cannot be created and that CSS classes
  or properties cannot be used explicitly.
</li><li>Add 8 to <code>safeMode</code> to allow Macro Definitions. Allowing Macro
  Definitions is not intrinsically unsafe because their safety or
  otherwise is solely determined by the safety of their constituent
  elements.
</li><li>For example, a <code>safeMode</code> value of 13 (1+4+8) skips HTML elements,
  allows macro definitions but skips all other Rimu definition
  elements along with API option elements.
</li><li>Once a non-zero <code>safeMode</code> has been set then it can only be reset by
  a <code>render()</code> API call with a <code>safeMode:0</code> or a <code>reset:true</code> option.
</li></ul></div>
</dd><dt><code>htmlReplacement</code></dt><dd>
A string that replaces embedded HTML when
<code>safeMode</code> is set to <code>2</code>. Defaults to <code>&lt;mark&gt;replaced HTML&lt;/mark&gt;</code>.
</dd><dt><code>callback</code></dt><dd>
<code>callback</code> is a function that handles diagnostic events emitted by the
<code>render()</code> API.  The <code>callback</code> function <code>message</code> argument is an object
with a <code>type</code> property (<code>'error'</code>, <code>'warning'</code> or <code>'info'</code>) and a
<code>text</code> property (a string containing the diagnostic message). Example
usage:
<pre class="javascript no-highlight"><code>var html = Rimu.render('Hello *Rimu*!', {
  callback: function(message) {
    console.log(message.type + ': ' + message.text);
  }
});</code></pre>
</dd><dt><code>reset</code></dt><dd>
This boolean option causes the <code>render()</code> API to be set to
its default state (default option values; default Quotes, Replacements
and Delimited Block definitions; no macro definitions; no callback).
The <code>reset</code> option is processed before other options.
</dd></dl><h3>API Option elements</h3>
<p>API options can be set in the Rimu source using a <a href="#line-blocks">Line
Block</a> element with the following syntax:</p>
<pre class="no-highlight"><code>.option-name = 'option-value'</code></pre>
<ul><li><code>option-name</code> is <code>safeMode</code>, <code>htmlReplacement</code> or <code>reset</code>.
</li><li>The <code>option-value</code> is a valid option value.
</li><li>Macro invocations in <code>option-value</code> are expanded.
</li><li>An API Option element must start at the left margin and must not
  extend beyond the end of the line.
</li><li>The option is applied to Rimu markup that follows the option element.
</li><li>API Option elements are not processed if the <code>safeMode</code> is non-zero.
</li></ul><p>For example, the following API Option element ensures all subsequent
raw HTML is not passed to the output:</p>
<pre class="no-highlight"><code>.safeMode = '1'</code></pre>
<h2>Documents</h2>
<p>A Rimu document consists of a sequence of zero or more <em>Block</em>
elements. Element types fall into three broad categories: <a href="#delimited-blocks">Delimited
Blocks</a>, <a href="#line-blocks">Line Blocks</a> and <a href="#inline-elements">Inline
elements</a>.</p>
<h3>Delimited Blocks</h3>
<p>A Delimited Block consists of an opening delimiter line followed by
zero or more content lines and terminated with a closing delimiter
line. Depending on the element type the delimiter lines may or may not
contain textual content. <a href="#paragraphs">Paragraphs</a> and <a href="#fenced-blocks">Fenced
Blocks</a> are Delimited Blocks. Delimited Block
behaviour is <a href="#delimited-block-definition">user customizable</a>.</p>
<h3>Line Blocks</h3>
<p>A Line Block consists of a single line. <a href="#headers">Headers</a>, <a href="#block-attributes">Block
Attributes</a>, <a href="#comments">single-line comments</a> and
<em>Element Definitions</em> are all Line Block elements.</p>
<h3>Inline elements</h3>
<p>Inline elements are contained within the textual content of some block
elements. There are three types of Inline elements: <a href="#macro-invocations">Macro
Invocations</a>, <a href="#quotes">Quotes</a> and
<a href="#replacements">Replacements</a>.</p>
<h3>Taxonomy</h3>
<p>Rimu markup elements are categorized as follows:</p>
<div class="light-background" style="white-space: pre; padding-left: 2em;"><p><a href="#documents">Block elements</a>
        <a href="#delimited-blocks">Delimited Blocks</a>
                <a href="#html-elements">HTML Block</a>
                <a href="#fenced-blocks">Fenced Blocks</a>
                        <a href="#code-block">Code Block</a>
                        <a href="#division-block">Division Block</a>
                        <a href="#quote-block">Quote Block</a>
                <a href="#macro-definitions">Macro Definition</a>
                <a href="#comments">Multi-line Comment</a>
                <a href="#paragraphs">Paragraphs</a>
                        <a href="#indented-paragraph">Indented Paragraph</a>
                        <a href="#normal-paragraph">Normal Paragraph</a>
                        <a href="#quote-paragraph">Quote Paragraph</a>
        <a href="#line-blocks">Line Blocks</a>
                <a href="#api-option-elements">API Option</a>
                <a href="#block-attributes">Block Attributes</a>
                <a href="#images">Block Image</a>
                <a href="#taxonomy">Element Definitions</a>
                        <a href="#macro-definitions">Macro Definition</a>
                        <a href="#quote-definition">Quote Definition</a>
                        <a href="#replacement-definition">Replacement Definition</a>
                        <a href="#delimited-block-definition">Delimited Block Definition</a>
                <a href="#headers">Header</a>
                <a href="#comments">Single-line Comment</a>
        <a href="#lists">Lists</a>
                <a href="#lists">Bullet List</a>
                <a href="#lists">Numbered List</a>
                <a href="#lists">Labeled List</a>
<a href="#inline-elements">Inline elements</a>
        <a href="#macro-invocations">Macro Invocations</a>
                <a href="#macro-invocations">Exclusion</a>
                <a href="#macro-invocations">Inclusion</a>
                <a href="#macro-invocations">Parametrized</a>
                <a href="#macro-invocations">Simple</a>
        <a href="#quotes">Quotes</a>
                <a href="#quotes">Bold</a>
                <a href="#quotes">Emphasis</a>
                <a href="#quotes">Monospaced</a>
                <a href="#quotes">Strikethrough</a>
        <a href="#replacements">Replacements</a>
                <a href="#character-entities">Character entity</a>
                <a href="#html-elements">HTML tag</a>
                <a href="#images">Image</a>
                <a href="#normal-paragraph">Line break</a>
                <a href="#urls">URL</a></p></div>
<h3>Document processing</h3>
<p>Rimu scans the input text for block elements. When a block element is
matched it is converted to HTML on the output.</p>
<p>Block elements in the source markup are matched in the following order
(first to last):</p>
<ol><li><a href="#line-blocks">Line Blocks</a>
</li><li><a href="#lists">Lists</a>
</li><li><a href="#delimited-blocks">Delimited Blocks</a>
</li></ol><p>Inline elements are processed in the following order (first to last):</p>
<ol><li><a href="#macro-invocations">Macro invocations</a>
</li><li><a href="#replacements">Replacements</a>
</li><li><a href="#quotes">Quotes</a>
</li></ol><p>Special character substitution takes place last.  Inline substitutions
in multi-line block elements can be controlled using <em>block-options</em>
in the <a href="#block-attributes">Block Attributes</a> element.</p>
<h2>Comments</h2>
<p>A <em>Multi-line comment</em> starts with a line containing only <code>/*</code> and
ends with a line containing only <code>*/</code>.</p>
<p>A <em>Single-line comment</em> is a line of text starting with <code>//</code>.</p>
<ul><li>Comments are not included in the HTML output.
</li><li>Comments are block elements and cannot be used inline, for example
  mid-paragraph.
</li><li>Comment delimiters must start at the left margin.
</li><li>Comments can be escaped by prefixing the opening delimiter with a
  backslash character.
</li><li>Use HTML comments (see <a href="#html-elements">HTML elements</a>) if you want
  comments to appear in the rendered HTML, for example:
</li></ul><h4>Examples</h4>
<table class="example table table-bordered">
<tbody>
<tr>
<td class="example-header" style="width:10%;">
<span class="icon-edit no-print" title="Edit example" style="cursor:pointer;" onclick="editExample('comments-example')"></span>
Rimu source</td>
<td>
<pre id="comments-example-source" class="example-source no-highlight"><code>/*
  This comment does not appear in the
  rendered HTML.
*/

// This comment does not appear in the rendered HTML.

&lt;!-- This comment appears in the rendered HTML. --&gt;</code></pre>
<textarea id="comments-example-edit" class="example-edit" onkeyup="updateExample('comments-example')"></textarea>
</td>
</tr>
<tr><td class="example-header" style="width:10%;">Rendered HTML</td>
<td>
<div id="comments-example-rendered" class="example-rendered">
<!-- This comment appears in the rendered HTML. -->
</div>
</td></tr></table>
<h2>Headers</h2>
<p>A <em>Header</em> is a <a href="#line-blocks">Line Block</a>  element containing a title
which is prefixed by 1 to 6 <code>#</code> or <code>=</code> characters. A matching postfix
is optional.</p>
<ul><li>Header prefixes and postfixes must be separated from the title text
  by whitespace.
</li><li><a href="#inline-elements">Inline elements</a> are allowed in the header title.
</li></ul><h4>Examples</h4>
<table class="example table table-bordered">
<thead><tr class="example-header">
<th>
<span class="icon-edit no-print" title="Edit example" style="cursor:pointer;" onclick="editExample('headers-example')"></span>
Rimu source</th>
<th>Rendered HTML</th>
</tr></thead><tbody><tr>
<td style="width:50%;">
<pre id="headers-example-source" class="example-source no-highlight"><code># h1 header
## h2 header ##
### h3 header
#### h4 _header_ ####
===== h5 header
====== h6 header</code></pre>
<textarea id="headers-example-edit" class="example-edit" onkeyup="updateExample('headers-example')"></textarea>
</td>
<td style="width:50%;">
<div id="headers-example-rendered" class="example-rendered">
<h1>h1 header</h1>
<h2>h2 header</h2>
<h3>h3 header</h3>
<h4>h4 <em>header</em></h4>
<h5>h5 header</h5>
<h6>h6 header</h6>
</div>
</td></tr></tbody></table>
<h2 id="fenced-blocks">Fenced Blocks</h2>
<p>Fenced blocks are <a href="#delimited-blocks">Delimited Blocks</a> bounded by
opening and closing delimiter lines consisting of two or more
delimiter characters starting at the left margin.</p>
<ul><li>The number of characters in the closing delimiter must exactly match
  the number in the he opening delimiter &mdash; this allows fenced blocks
  of the same type to be nested.
</li><li>The behaviour of individual Fenced Blocks can be customized with a
  preceding <a href="#block-attributes">Block Attributes</a> element.
</li><li>CSS class names appended to the opening delimiter line will be
  injected into the block's opening HTML tag (this is an alternative
  to using a <em>Block Attributes</em> element).
</li><li>Fenced Blocks can be escaped by prefixing the opening delimiter with
  a backslash character.
</li><li>You can change the generated HTML with <a href="#delimited-block-definition">Delimited Block
  definitions</a>.
</li></ul><h3>Code Block</h3>
<p>By default the all text in a <em>Code Block</em> is rendered verbatim.  The
generated HTML is enveloped  with <code>&lt;pre&gt;&lt;code&gt;...&lt;/code&gt;&lt;/pre&gt;</code> tags.
The Code Block delimiter character is a backtick.</p>
<h4>Examples</h4>
<table class="example table table-bordered">
<thead><tr class="example-header">
<th>
<span class="icon-edit no-print" title="Edit example" style="cursor:pointer;" onclick="editExample('code-block-example')"></span>
Rimu source</th>
<th>Rendered HTML</th>
</tr></thead><tbody><tr>
<td style="width:50%;">
<pre id="code-block-example-source" class="example-source no-highlight"><code>``
Nunc mauris tempor.
Scelerisque feugiat massa alias.
``</code></pre>
<textarea id="code-block-example-edit" class="example-edit" onkeyup="updateExample('code-block-example')"></textarea>
</td>
<td style="width:50%;">
<div id="code-block-example-rendered" class="example-rendered">
<pre class="no-highlight"><code>Nunc mauris tempor.
Scelerisque feugiat massa alias.</code></pre>
</div>
</td></tr></tbody></table>
<h3>Quote Block</h3>
<p>A <em>Quote Block</em> renders the enclosed block elements inside an HTML
<code>&lt;blockquote&gt;</code> element.  The Quote Block delimiter character is a
double-quote.</p>
<h4>Examples</h4>
<table class="example table table-bordered">
<thead><tr class="example-header">
<th>
<span class="icon-edit no-print" title="Edit example" style="cursor:pointer;" onclick="editExample('quote-block-example')"></span>
Rimu source</th>
<th>Rendered HTML</th>
</tr></thead><tbody><tr>
<td style="width:50%;">
<pre id="quote-block-example-source" class="example-source no-highlight"><code>""
Nunc mauris tempor.
Scelerisque feugiat massa alias.

.cite
Anonymous
""</code></pre>
<textarea id="quote-block-example-edit" class="example-edit" onkeyup="updateExample('quote-block-example')"></textarea>
</td>
<td style="width:50%;">
<div id="quote-block-example-rendered" class="example-rendered">
<blockquote><p>Nunc mauris tempor.
Scelerisque feugiat massa alias.</p>
<p class="cite">Anonymous</p></blockquote>
</div>
</td></tr></tbody></table>
<p>This example uses the <a href="#rimuc-command">rimuc</a> command <code>--styled</code>
option's CSS <em>cite</em> class to style the Anonymous attribution.</p>
<h3>Division Block</h3>
<p>A <em>Division Block</em> is a container for other block elements, the
contained elements are enclosed by an HTML <code>&lt;div&gt;</code> element.  The
Division Block delimiter character is a period.</p>
<p>A <em>Division Block</em> can be used to group block elements and is useful
for appending arbitrary block elements to list items.</p>
<h4>Examples</h4>
<table class="example table table-bordered">
<thead><tr class="example-header">
<th>
<span class="icon-edit no-print" title="Edit example" style="cursor:pointer;" onclick="editExample('division-block-example')"></span>
Rimu source</th>
<th>Rendered HTML</th>
</tr></thead><tbody><tr>
<td style="width:50%;">
<pre id="division-block-example-source" class="example-source no-highlight"><code>..
Nunc mauris tempor.
Scelerisque feugiat massa alias.
..</code></pre>
<textarea id="division-block-example-edit" class="example-edit" onkeyup="updateExample('division-block-example')"></textarea>
</td>
<td style="width:50%;">
<div id="division-block-example-rendered" class="example-rendered">
<div><p>Nunc mauris tempor.
Scelerisque feugiat massa alias.</p></div>
</div>
</td></tr></tbody></table>
<p>If the rendered contents of the <em>Division Block</em> is empty and the
<code>&lt;div&gt;</code> element has no attributes then it is not emitted.</p>
<h2>HTML elements</h2>
<p>Block and inline HTML elements can be mixed with Rimu markup.</p>
<ul><li>The opening tag of an HTML block element must start at the left
  margin.
</li><li>An HTML block element is terminated with a blank line.
</li><li>Macro invocations in HTML elements are expanded.
</li><li>HTML tags can be escaped with a backslash character prefix.
</li><li>HTML elements can be excluded from the output using the API
  <a href="#api-options">safeMode option</a>.
</li></ul><h4>Examples</h4>
<table class="example table table-bordered">
<tbody>
<tr>
<td class="example-header" style="width:10%;">
<span class="icon-edit no-print" title="Edit example" style="cursor:pointer;" onclick="editExample('html-example')"></span>
Rimu source</td>
<td>
<pre id="html-example-source" class="example-source no-highlight"><code>An inline &lt;span style="color:red;"&gt;HTML span&lt;/span&gt;.

&lt;table class="table table-bordered"&gt;
  &lt;tr&gt;
    &lt;td&gt;Montes adipiscing sodales.&lt;/td&gt;
    &lt;td&gt;Magna placerat posuere.&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;Nulla suspendisse egestas nulla libero sed.&lt;/td&gt;
    &lt;td&gt;Wisi ullamcorper eget.&lt;/td&gt;
  &lt;/tr&gt;
&lt;/table&gt;</code></pre>
<textarea id="html-example-edit" class="example-edit" onkeyup="updateExample('html-example')"></textarea>
</td>
</tr>
<tr><td class="example-header" style="width:10%;">Rendered HTML</td>
<td>
<div id="html-example-rendered" class="example-rendered">
<p>An inline <span style="color:red;">HTML span</span>.</p>
<table class="table table-bordered">
  <tr>
    <td>Montes adipiscing sodales.</td>
    <td>Magna placerat posuere.</td>
  </tr>
  <tr>
    <td>Nulla suspendisse egestas nulla libero sed.</td>
    <td>Wisi ullamcorper eget.</td>
  </tr>
</table>
</div>
</td></tr></table>
<h2>Paragraphs</h2>
<p>Paragraph block elements are terminated by a blank line (lines
containing only space characters do not terminate a paragraph).</p>
<p>Individual paragraph behavior can be modified with a preceding <a href="#block-attributes">Block
Attributes</a> element. The behavior of all paragraphs
can be modified with a <a href="#delimited-block-definition">Delimited Block
Definition</a> (block name <code>paragraph</code> for
Normal Paragraph; <code>indented</code> for Indented Paragraph; <code>quote-paragraph</code>
for Quote Paragraph).</p>
<p>There are three paragraph types:</p>
<h3>Normal paragraph</h3>
<p>Normal paragraphs can contain inline elements, the first line must
start at the left margin.</p>
<p>You can force line breaks in normal paragraphs by putting a space
followed by a backslash character at the end of a line.</p>
<p>Line breaks can be escaped by prefixing the trailing backslash
with another backslash character.</p>
<h4>Examples</h4>
<table class="example table table-bordered">
<thead><tr class="example-header">
<th>
<span class="icon-edit no-print" title="Edit example" style="cursor:pointer;" onclick="editExample('normal-paragraph-example')"></span>
Rimu source</th>
<th>Rendered HTML</th>
</tr></thead><tbody><tr>
<td style="width:50%;">
<pre id="normal-paragraph-example-source" class="example-source no-highlight"><code>Nunc mauris tempor.
Scelerisque feugiat massa alias.</code></pre>
<textarea id="normal-paragraph-example-edit" class="example-edit" onkeyup="updateExample('normal-paragraph-example')"></textarea>
</td>
<td style="width:50%;">
<div id="normal-paragraph-example-rendered" class="example-rendered">
<p>Nunc mauris tempor.
Scelerisque feugiat massa alias.</p>
</div>
</td></tr></tbody></table>
<h3>Indented paragraph</h3>
<p>Indented paragraphs begin with one or more space characters.  By
default the all text in an <em>Indented Paragraph</em> is rendered verbatim.
This behavior can be changed using a preceding <a href="#block-attributes">Block
Attributes</a> element.  The generated HTML is
enveloped  with <code>&lt;pre&gt;&lt;code&gt;...&lt;/code&gt;&lt;/pre&gt;</code> tags.</p>
<h4>Examples</h4>
<table class="example table table-bordered">
<thead><tr class="example-header">
<th>
<span class="icon-edit no-print" title="Edit example" style="cursor:pointer;" onclick="editExample('indented-paragraph-example')"></span>
Rimu source</th>
<th>Rendered HTML</th>
</tr></thead><tbody><tr>
<td style="width:50%;">
<pre id="indented-paragraph-example-source" class="example-source no-highlight"><code>  Nunc mauris tempor.
  Scelerisque feugiat massa alias.</code></pre>
<textarea id="indented-paragraph-example-edit" class="example-edit" onkeyup="updateExample('indented-paragraph-example')"></textarea>
</td>
<td style="width:50%;">
<div id="indented-paragraph-example-rendered" class="example-rendered">
<pre class="no-highlight"><code>Nunc mauris tempor.
Scelerisque feugiat massa alias.</code></pre>
</div>
</td></tr></tbody></table>
<h3>Quote paragraph</h3>
<p>Quote paragraphs begin with a <code>&gt;</code> character and are rendered inside an
HTML <code>&lt;blockquote&gt;</code> element. Leading <code>&gt;</code> characters are optional for
all lines except the first line. Leading <code>&gt;</code> characters can be escaped
with a backslash character.  In all other respects Quote paragraphs
behave the same as <a href="#normal-paragraph">Normal paragraphs</a>.</p>
<h4>Examples</h4>
<table class="example table table-bordered">
<thead><tr class="example-header">
<th>
<span class="icon-edit no-print" title="Edit example" style="cursor:pointer;" onclick="editExample('quote-paragraph-example')"></span>
Rimu source</th>
<th>Rendered HTML</th>
</tr></thead><tbody><tr>
<td style="width:50%;">
<pre id="quote-paragraph-example-source" class="example-source no-highlight"><code>&gt; Nunc mauris tempor.
  Scelerisque feugiat massa alias.</code></pre>
<textarea id="quote-paragraph-example-edit" class="example-edit" onkeyup="updateExample('quote-paragraph-example')"></textarea>
</td>
<td style="width:50%;">
<div id="quote-paragraph-example-rendered" class="example-rendered">
<blockquote><p> Nunc mauris tempor.
  Scelerisque feugiat massa alias.</p></blockquote>
</div>
</td></tr></tbody></table>
<h2>Lists</h2>
<p>Each list item includes an identifier (ID) that groups items into
lists.  There are three types of list: <em>Bullet</em>, <em>Numbered</em> and
<em>Labeled</em>, each with its own unique set of list IDs.</p>
<pre class="light-background no-highlight"><code>List item ID                  List type
___________________________________________
-, +, *, **, ***, ****        Bullet list
., .., ..., ....              Numbered list
::, :::, ::::                 Labeled list
___________________________________________</code></pre>
<ul><li><em>Bullet</em> and <em>Numbered</em> list items begin with the list ID.  The list
  ID must be separated by one or more spaces from the list item text.
<div><h4>Examples</h4>
<table class="example table table-bordered">
<thead><tr class="example-header">
<th>
<span class="icon-edit no-print" title="Edit example" style="cursor:pointer;" onclick="editExample('bullet-lists-example')"></span>
Rimu source</th>
<th>Rendered HTML</th>
</tr></thead><tbody><tr>
<td style="width:50%;">
<pre id="bullet-lists-example-source" class="example-source no-highlight"><code>- First item.
  . Nested numbered item.
- Second item of first list.</code></pre>
<textarea id="bullet-lists-example-edit" class="example-edit" onkeyup="updateExample('bullet-lists-example')"></textarea>
</td>
<td style="width:50%;">
<div id="bullet-lists-example-rendered" class="example-rendered">
<ul><li>First item.
<ol><li>Nested numbered item.
</li></ol></li><li>Second item of first list.
</li></ul></div>
</td></tr></tbody></table>
</div>
</li><li><em>Labeled</em> list items begin with the <em>term</em> text followed
  immediately by the list ID, then one or more spaces or a line break,
  then the <em>definition</em> text.
<div><h4>Examples</h4>
<table class="example table table-bordered">
<thead><tr class="example-header">
<th>
<span class="icon-edit no-print" title="Edit example" style="cursor:pointer;" onclick="editExample('labeled-lists-example')"></span>
Rimu source</th>
<th>Rendered HTML</th>
</tr></thead><tbody><tr>
<td style="width:50%;">
<pre id="labeled-lists-example-source" class="example-source no-highlight"><code>First term:: Definition one.
Second term::
Definition for second term.</code></pre>
<textarea id="labeled-lists-example-edit" class="example-edit" onkeyup="updateExample('labeled-lists-example')"></textarea>
</td>
<td style="width:50%;">
<div id="labeled-lists-example-rendered" class="example-rendered">
<dl><dt>First term</dt><dd> Definition one.
</dd><dt>Second term</dt><dd>
Definition for second term.
</dd></dl></div>
</td></tr></tbody></table>
</div>
</li><li>A list item can span multiple contiguous lines.
</li><li>List items can be indented but this has no semantic significance
  (indents are fussy to write and are prone to editor tab expansion
  and copy-and-paste corruption).
</li><li><em>Numbered</em> list IDs can be prefixed with numbers but the number has no
  semantic significance.
</li><li>When a list item is followed by an item with a different ID the
  successor list is nested.
</li><li>List items can be escaped with a backslash at the beginning of the
  line.
</li><li>If an <a href="#indented-paragraph">Indented Paragraph</a> is separated from a
  preceding list item by a single blank line then it is rendered with
  the list item.
</li><li>If a <a href="#fenced-blocks">Fenced Block</a> immediately follows a list item
  without any intervening blank lines then it is attached to the list
  item.
</li><li>Lists are terminated by two or more blank lines or when the
  following element is not an Indented Paragraph or a Fenced Block.
</li><li>There are no explicit numbering or bullet styles &mdash; this is best
  left to CSS which can apply a consistent set of list styles.
</li></ul><h4>Examples</h4>
<table class="example table table-bordered">
<tbody>
<tr>
<td class="example-header" style="width:10%;">
<span class="icon-edit no-print" title="Edit example" style="cursor:pointer;" onclick="editExample('lists-example')"></span>
Rimu source</td>
<td>
<pre id="lists-example-source" class="example-source no-highlight"><code>- Lorem ipsum dolor sit amet dis quisque maecenas in tristique arcu
\- lorem dolor fusce nec.
  * Sit pretium quisque in wisi lobortis.
  * Ac curabitur elementum.
    ** Platea ad diam arcu vitae fermentum.
       1. Eu lorem nulla.
       2. In suspendisse at dapibus nostra est.
          .. Montes adipiscing sodales.
    ** Pellentesque nibh sit.
- Viverra pede turpis.
  Esse et dui:: Nonummy modi.
  Wisi ad diam:: Sapien porttitor.
    Condimentum::: Lacus maecenas neque dolor habitant tellus eu vitae sed
- Augue et dui malesuada purus.

  Purus aliquam mauris a aliquam orci. Massa sit sit. Quis eget
  penatibus. Maecenas at tellus. Sapien quam mauris. Sapien arcu nisl.
  Non a pede in.

- Facilisi vestibulum montes quam eget donec.
..
Cras proin molestie quam sem conubia. Ligula vel elit. Elit a earum.
Arcu eget magna. Class vivamus morbi.

Ac lacinia mi. Mi in enim. Dui sed ut. Egestas congue quam. Facilisis
non magnis facilisi scelerisque luctus. Quis praesent pulvinar.
..
- Integer quisque hendrerit. Arcu nunc lorem posuere.</code></pre>
<textarea id="lists-example-edit" class="example-edit" onkeyup="updateExample('lists-example')"></textarea>
</td>
</tr>
<tr><td class="example-header" style="width:10%;">Rendered HTML</td>
<td>
<div id="lists-example-rendered" class="example-rendered">
<ul><li>Lorem ipsum dolor sit amet dis quisque maecenas in tristique arcu
- lorem dolor fusce nec.
<ul><li>Sit pretium quisque in wisi lobortis.
</li><li>Ac curabitur elementum.
<ul><li>Platea ad diam arcu vitae fermentum.
<ol><li>Eu lorem nulla.
</li><li>In suspendisse at dapibus nostra est.
<ol><li>Montes adipiscing sodales.
</li></ol></li></ol></li><li>Pellentesque nibh sit.
</li></ul></li></ul></li><li>Viverra pede turpis.
<dl><dt>Esse et dui</dt><dd> Nonummy modi.
</dd><dt>Wisi ad diam</dt><dd> Sapien porttitor.
<dl><dt>Condimentum</dt><dd> Lacus maecenas neque dolor habitant tellus eu vitae sed
</dd></dl></dd></dl></li><li>Augue et dui malesuada purus.
<pre class="no-highlight"><code>Purus aliquam mauris a aliquam orci. Massa sit sit. Quis eget
penatibus. Maecenas at tellus. Sapien quam mauris. Sapien arcu nisl.
Non a pede in.</code></pre>
</li><li>Facilisi vestibulum montes quam eget donec.
<div><p>Cras proin molestie quam sem conubia. Ligula vel elit. Elit a earum.
Arcu eget magna. Class vivamus morbi.</p>
<p>Ac lacinia mi. Mi in enim. Dui sed ut. Egestas congue quam. Facilisis
non magnis facilisi scelerisque luctus. Quis praesent pulvinar.</p></div>
</li><li>Integer quisque hendrerit. Arcu nunc lorem posuere.
</li></ul></div>
</td></tr></table>
<h2>Quotes</h2>
<p>Text can be formatted by enclosing it in one or two quote characters.
The built-in quotes are:</p>
<pre class="light-background no-highlight"><code>Rimu            Rendered HTML             Font style
___________________________________________________________
_emphasis_      &lt;em&gt;emphasis&lt;/em&gt;         Italic
*emphasis*      &lt;em&gt;emphasis&lt;/em&gt;         Italic
__strong__      &lt;strong&gt;strong&lt;/strong&gt;   Bold
**strong**      &lt;strong&gt;strong&lt;/strong&gt;   Bold
`code`          &lt;code&gt;code&lt;/code&gt;         Monospaced
``code``        &lt;code&gt;code&lt;/code&gt;         Monospaced
~~deleted~~     &lt;del&gt;deleted&lt;/del&gt;        Strikethrough
___________________________________________________________</code></pre>
<ul><li>Quoted text must begin and end with non-whitespace characters.
</li><li>Quotes and inline elements can be nested within a quote with the
  exception of the <em>Code</em> quote.
</li><li>Single underscore quote characters within words are ignored if they
  are flanked on both sides by alphanumeric characters (use single
  asterisk quotes to emphasize text within words).
</li><li>Quotes can be escaped by prefixing the opening quote with with a
  backslash character. If the text contains multiple quotes of the
  same type then, to resolve ambiguity, additional quotes may have to
  be escaped.
</li><li>The <em>Code</em> quote renders quoted text verbatim with the exception of
  <a href="#macro-invocations">Macro Invocations</a>.
</li></ul><h4>Examples</h4>
<table class="example table table-bordered">
<thead><tr class="example-header">
<th>
<span class="icon-edit no-print" title="Edit example" style="cursor:pointer;" onclick="editExample('quote-example')"></span>
Rimu source</th>
<th>Rendered HTML</th>
</tr></thead><tbody><tr>
<td style="width:50%;">
<pre id="quote-example-source" class="example-source no-highlight"><code>Some **bold text**,
some _emphasized text_,
some `monospaced text` and
some ~~deleted text~~.</code></pre>
<textarea id="quote-example-edit" class="example-edit" onkeyup="updateExample('quote-example')"></textarea>
</td>
<td style="width:50%;">
<div id="quote-example-rendered" class="example-rendered">
<p>Some <strong>bold text</strong>,
some <em>emphasized text</em>,
some <code>monospaced text</code> and
some <del>deleted text</del>.</p>
</div>
</td></tr></tbody></table>
<h3>Quote Definition</h3>
<p>You can modify existing quote behavior or add new quotes using <em>Quote
definitions</em>.</p>
<p>Definition syntax:</p>
<pre class="no-highlight"><code>quote-delimiter = '&lt;open-tags&gt;|&lt;close-tags&gt;'</code></pre>
<ul><li><code>quote-delimiter</code> can be one or two characters.
</li><li><code>open-tags</code> and <code>close-tags</code> are the HTML tags that envelope the
  generated HTML.
</li><li>Use a two-bar <code>||</code> separator to render the quoted text
  verbatim (like the built-in <em>code quote</em>).
</li><li>A Quote definition must start at the left margin and must not
  extend beyond the end of the line.
</li><li>Quote definitions are not processed if the <a href="#api-options">SafeMode API
  option</a> is non-zero.
</li><li>Macro invocations are expanded inside the <code>open-tags</code> and
  <code>close-tags</code>.
</li></ul><p>The following quote definition envelopes quoted text with an HTML
superscript tag:</p>
<pre class="no-highlight"><code>^ = '&lt;sup&gt;|&lt;/sup&gt;'</code></pre>
<h2>Replacements</h2>
<p>A <em>Replacement</em> replaces matched source text with some other text
(usually HTML markup). A replacement is defined by a regular
expression (to find the matched text) and the text to be replaced.</p>
<p>With the exception of <a href="#quotes">Quotes</a> all Rimu <a href="#inline-elements">Inline
elements</a> are implemented as replacements e.g.
<a href="#character-entities">character entities</a>, <a href="#urls">URLs</a>, <a href="#images">inline
images</a>, <a href="#html-elements">inline HTML tags</a>.</p>
<h3>Replacement Definition</h3>
<p>Definition syntax:</p>
<pre class="no-highlight"><code>/pattern/flags = 'replacement'</code></pre>
<ul><li>The <code>/pattern/flags</code> regular expression syntax is identical to
  JavaScript's <a href="https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/RegExp">RegExp
  literal</a>
  syntax.
</li><li><code>$1</code>, <code>$2</code>&hellip;, <code>$$1</code>, <code>$$2</code>&hellip; in <code>replacement</code> are replaced by the
  corresponding regular expression match groups. <code>$0</code> and <code>$$0</code> are
  replaced by the entire match.
<ul><li>Special characters are escaped in <code>$1</code>, <code>$2</code>&hellip;
</li><li><a href="#quotes">Quotes</a> are expanded and special characters escaped in
    <code>$$1</code>, <code>$$2</code>&hellip;
</li></ul></li><li>Replacements are only expanded in inline contexts.
</li><li>Replacements are not expanded inside <a href="#quotes">Code quotes</a>, <a href="#code-block">Code
  blocks</a> or <a href="#indented-paragraph">Indented paragraphs</a>.
</li><li>If the first matched character is a backslash then replacement will
  be escaped i.e. starting the regular expression with <code>\\?</code> will
  ensure it can be escaped.
</li><li>A replacement definition must start at the left margin and must not
  extend beyond the end of the line.
</li><li>The <code>replacement</code> text can invoke previously defined macros.
</li><li>Replacement definitions are not processed if the <a href="#api-options">SafeMode API
  option</a> is non-zero.
</li></ul><p>Example replacement definitions:</p>
<pre class="no-highlight"><code>/\.{3}/ = '&amp;hellip;'
/\bTODO\b/ = '&lt;b style="color: red; background-color: yellow;"&gt;TODO&lt;/b&gt;'</code></pre>
<h2>URLs</h2>
<p>URLs and email address elements are implemented with built-in
<a href="#replacements">Replacements</a>.</p>
<p>Syntax:</p>
<pre class="light-background no-highlight"><code>Rimu                Rendered HTML
______________________________________________________
url                 &lt;a href="url"&gt;url&lt;/a&gt;       Note 1
&lt;url&gt;               &lt;a href="url"&gt;url&lt;/a&gt;
&lt;url|caption&gt;       &lt;a href="url"&gt;caption&lt;/a&gt;
[caption](url)      &lt;a href="url"&gt;caption&lt;/a&gt;   Note 2
&lt;email&gt;             &lt;a href="mailto:email"&gt;email&lt;/a&gt;
&lt;email|caption&gt;     &lt;a href="mailto:email"&gt;caption&lt;/a&gt;
______________________________________________________</code></pre>
<p>Notes:</p>
<ol><li>Only HTTP and HTTPS raw URLs are auto-encoded.
</li><li>The <code>[caption](url)</code> syntax is Markdown compatible.
</li></ol><h4>Examples</h4>
<table class="example table table-bordered">
<thead><tr class="example-header">
<th>
<span class="icon-edit no-print" title="Edit example" style="cursor:pointer;" onclick="editExample('urls-example')"></span>
Rimu source</th>
<th>Rendered HTML</th>
</tr></thead><tbody><tr>
<td style="width:50%;">
<pre id="urls-example-source" class="example-source no-highlight"><code>1. http://example.com
2. &lt;http://example.com&gt;
3. &lt;http://example.com|Foo home&gt;
4. [Foo home](http://example.com)
5. &lt;example.html&gt;
6. &lt;example.html#basics|The basics&gt;
7. &lt;#api-options|API Options&gt;
8. &lt;file:///example/user-guide.pdf|User Guide&gt;
9. &lt;file:///home/example/downloads/&gt;
10. &lt;ftp://example.com/pub/standards/RFC/rfc959.txt&gt;
11. &lt;joe@example.com&gt;
12. &lt;joe@example.org|Joe Bloggs&gt;</code></pre>
<textarea id="urls-example-edit" class="example-edit" onkeyup="updateExample('urls-example')"></textarea>
</td>
<td style="width:50%;">
<div id="urls-example-rendered" class="example-rendered">
<ol><li><a href="http://example.com">http://example.com</a>
</li><li><a href="http://example.com">http://example.com</a>
</li><li><a href="http://example.com">Foo home</a>
</li><li><a href="http://example.com">Foo home</a>
</li><li><a href="example.html">example.html</a>
</li><li><a href="example.html#basics">The basics</a>
</li><li><a href="#api-options">API Options</a>
</li><li><a href="file:///example/user-guide.pdf">User Guide</a>
</li><li><a href="file:///home/example/downloads/">file:///home/example/downloads/</a>
</li><li><a href="ftp://example.com/pub/standards/RFC/rfc959.txt">ftp://example.com/pub/standards/RFC/rfc959.txt</a>
</li><li><a href="mailto:joe@example.com">joe@example.com</a>
</li><li><a href="mailto:joe@example.org">Joe Bloggs</a>
</li></ol></div>
</td></tr></tbody></table>
<h2>Images</h2>
<p>Syntax:</p>
<pre class="light-background no-highlight"><code>Rimu                Rendered HTML
_______________________________________________________
&lt;image:url|alt&gt;     &lt;img href="url" alt="alt"&gt;
&lt;image:url&gt;         &lt;img href="url" alt="url"&gt;
![alt](url)         &lt;img href="url" alt="alt"&gt;   Note 1
_______________________________________________________</code></pre>
<p>Notes:</p>
<ol><li>The <code>![alt](url)</code> syntax is Markdown compatible. To maintain
   Markdown compatibility it is always processed as an inline element.
</li></ol><h4>Examples</h4>
<table class="example table table-bordered">
<thead><tr class="example-header">
<th>
<span class="icon-edit no-print" title="Edit example" style="cursor:pointer;" onclick="editExample('images-example')"></span>
Rimu source</th>
<th>Rendered HTML</th>
</tr></thead><tbody><tr>
<td style="width:50%;">
<pre id="images-example-source" class="example-source no-highlight"><code>An image can be rendered as a block element:

&lt;image:http://www.w3.org/Icons/w3c_home.png|W3C logo&gt;

Centered using [rimuc](#rimuc-command) `--styled` option CSS class:

.align-center
![W3C logo](http://www.w3.org/Icons/w3c_home.png)

Or an image can be &lt;image:http://www.w3.org/Icons/w3c_home.png&gt; an
inline element.</code></pre>
<textarea id="images-example-edit" class="example-edit" onkeyup="updateExample('images-example')"></textarea>
</td>
<td style="width:50%;">
<div id="images-example-rendered" class="example-rendered">
<p>An image can be rendered as a block element:</p>
<img src="http://www.w3.org/Icons/w3c_home.png" alt="W3C logo">
<p>Centered using <a href="#rimuc-command">rimuc</a> <code>--styled</code> option CSS class:</p>
<p class="align-center"><img src="http://www.w3.org/Icons/w3c_home.png" alt="W3C logo"></p>
<p>Or an image can be <img src="http://www.w3.org/Icons/w3c_home.png" alt="http://www.w3.org/Icons/w3c_home.png"> an
inline element.</p>
</div>
</td></tr></tbody></table>
<h2>Character entities</h2>
<p>HTML character entities can be included in Rimu source.</p>
<h4>Examples</h4>
<table class="example table table-bordered">
<thead><tr class="example-header">
<th>
<span class="icon-edit no-print" title="Edit example" style="cursor:pointer;" onclick="editExample('entities-example')"></span>
Rimu source</th>
<th>Rendered HTML</th>
</tr></thead><tbody><tr>
<td style="width:50%;">
<pre id="entities-example-source" class="example-source no-highlight"><code>&amp;copy; &amp;reg; &amp;alpha; &amp;omega;</code></pre>
<textarea id="entities-example-edit" class="example-edit" onkeyup="updateExample('entities-example')"></textarea>
</td>
<td style="width:50%;">
<div id="entities-example-rendered" class="example-rendered">
<p>&copy; &reg; &alpha; &omega;</p>
</div>
</td></tr></tbody></table>
<p>Character entities can be escaped with a backslash character prefix.</p>
<h2>Block Attributes</h2>
<p>The <em>Block Attributes</em> <a href="#line-blocks">Line Block</a> element injects HTML
attributes into the opening tag of the next block element. You can
specify class names, an element ID and any other HTML attributes.  It
can also include <a href="#delimited-block-definition">block-options</a> to
control the processing of <a href="#delimited-blocks">Delimited Block</a>
elements.</p>
<p>Syntax:</p>
<pre class="no-highlight"><code>.class-names #id "css-properties" [html-attributes] block-options</code></pre>
<ul><li>The leading period character must start at the left margin and the
  attributes must not extend beyond the end of the line.
</li><li>All items are optional.
</li><li><code>class-names</code> is one or more HTML <em>class</em> attribute names (separated
  by spaces).
</li><li><code>id</code> is a unique HTML <em>id</em> attribute value.
</li><li><code>css-properties</code> is one or more CSS property name/value pairs: it
  injects a <code>style="css-properties"</code> attribute into the target
  opening tag.
</li><li><code>html-attributes</code> is one or more HTML attribute name/value pairs:
  they are injected into the target opening tag.
</li><li>Successive Block Attributes elements accumulate until they are
  consumed by the first succeeding Delimited Block element.
</li><li>The `<a href="#api-options">html-attributes]` section is ignored if the [safeMode API
  option</a> is not zero.
</li><li>The <code>-specials</code> block option is ignored if the <a href="#api-options">safeMode API
  option</a>  is not zero.
</li><li>The entire Block Attributes element is ignored if bit 2 of the
  <a href="#api-options">safeMode API option</a> is set.
</li><li><code>block-options</code> is used to control the processing of the succeeding
  block element contents.
</li><li>Macro invocations in <em>Block Attributes</em> are expanded.
</li></ul><h4>Examples</h4>
<table class="example table table-bordered">
<tbody>
<tr>
<td class="example-header" style="width:10%;">
<span class="icon-edit no-print" title="Edit example" style="cursor:pointer;" onclick="editExample('block-attributes-example')"></span>
Rimu source</td>
<td>
<pre id="block-attributes-example-source" class="example-source no-highlight"><code>.error "color:red"
Lorum ipsum.

.#ref2 "color:green" [title="Reference two"]
Ac curabitur elementum.

{quote-style} = '."padding-left: 10px; border-left: 4px solid silver;"'

{quote-style}
""
Lorem ipsum dolor sit amet sapien. Nascetur et mattis maecenas morbi
porttitor. Vitae vestibulum voluptate. Quam elit id. In eu wisi.
Imperdiet pellentesque minim. Metus mauris tortor. Torquent leo vel.
""

.-macros
Macro {invocations} are not expanded when the `-macros` block option
is set.</code></pre>
<textarea id="block-attributes-example-edit" class="example-edit" onkeyup="updateExample('block-attributes-example')"></textarea>
</td>
</tr>
<tr><td class="example-header" style="width:10%;">Rendered HTML</td>
<td>
<div id="block-attributes-example-rendered" class="example-rendered">
<p class="error" style="color:red">Lorum ipsum.</p>
<p id="ref2" style="color:green" title="Reference two">Ac curabitur elementum.</p>
<blockquote style="padding-left: 10px; border-left: 4px solid silver;"><p>Lorem ipsum dolor sit amet sapien. Nascetur et mattis maecenas morbi
porttitor. Vitae vestibulum voluptate. Quam elit id. In eu wisi.
Imperdiet pellentesque minim. Metus mauris tortor. Torquent leo vel.</p></blockquote>
<p>Macro {invocations} are not expanded when the <code>-macros</code> block option
is set.</p>
</div>
</td></tr></table>
<h2>Delimited Block Definition</h2>
<p>You can change <a href="#delimited-blocks">Delimited Block</a> behaviour with
<em>Delimited Block definitions</em>.</p>
<p>Definition syntax:</p>
<pre class="no-highlight"><code>|block-name| = '&lt;open-tags&gt;|&lt;close-tags&gt; block-options'</code></pre>
<ul><li><code>block-name</code> is is one of the folowing <a href="#delimited-blocks">Delimited
  Block</a> names:
<div><p><code>code</code> (<a href="#code-block">Code Block</a>),<br>
<code>comment</code> (<a href="#comments">Multi-line Comment</a>),<br>
<code>division</code> (<a href="#division-block">Division Block</a>),<br>
<code>html</code> (<a href="#html-elements">HTML Block</a>),<br>
<code>indented</code> (<a href="#indented-paragraph">Indented Paragraph</a>),<br>
<code>quote</code> (<a href="#quote-block">Quote Block</a>),<br>
<code>quote-paragraph</code> (<a href="#quote-paragraph">Quote Paragraph</a>),<br>
<code>paragraph</code> (<a href="#normal-paragraph">Normal Paragraph</a>).</p></div>
</li><li><code>open-tags</code> and <code>close-tags</code> define the HTML tags that envelope the
  output block. <code>&lt;open-tags&gt;|&lt;close-tags&gt;</code> is optional.
</li><li><code>block-options</code> is used to control the processing of Delimited block
  elements.  <code>block-options</code> is optional and consists of one or more
  of the following space separated options:
<div><p><code>+macros</code> (enable macro expansion),<br>
<code>-macros</code> (disable macro expansion),<br>
<code>+spans</code> (enable <a href="#quotes">Quote</a> and <a href="#replacements">Replacement</a> element processing),<br>
<code>-spans</code> (disable <a href="#quotes">Quote</a> and <a href="#replacements">Replacement</a> element processing),<br>
<code>+specials</code> (enable special character entities),<br>
<code>-specials</code> (disable special character entities),<br>
<code>+container</code> (the block is a container for Rimu block elements),<br>
<code>-container</code> (turn off the container option),<br>
<code>+skip</code> (skip the block),<br>
<code>-skip</code> (turn off the skip option).</p></div>
</li><li>Do not apply <code>macros</code>, <code>spans</code> <code>or specials</code> block options to
  Division blocks or Quote blocks (container blocks) or Lists.
</li><li>A Delimited Block definition must start at the left margin and must
  not extend beyond the end of the line.
</li><li>Delimited Block definitions are not processed if the <a href="#api-options">safeMode API
  option</a> is non-zero.
</li><li>Macro invocations in the definition are expanded.
</li></ul><p>The following example generates Code blocks with a <code>no-highlight</code>
class attribute:</p>
<pre class="no-highlight"><code>|code| = '&lt;pre&gt;&lt;code class="no-highlight"&gt;|&lt;/code&gt;&lt;/pre&gt;'</code></pre>
<p>The following example disables <em>Macro Invocation</em>, <em>Quote</em> and
<em>Replacement</em> processing in Paragraphs:</p>
<pre class="no-highlight"><code>|paragraph| = '-macros -spans'</code></pre>
<h2>Macros</h2>
<p>Macros are a simple yet powerful mechanism for creating shortcuts for
repeatedly used markup.  They are used to parametrize documents,
promote clarity and eliminate repetition.</p>
<p>Rimu provides elements for defining and invoking macros and includes
features like macro parametrization, conditional processing and
meta-programming.</p>
<h3>Macro definitions</h3>
<p>A macro definition assigns one or more lines of Rimu markup to a macro
name.</p>
<p>Definition syntax:</p>
<pre class="light-background no-highlight"><code>{macro-name} = 'macro-value'      Simple macro definition
{macro-name?} = 'macro-value'     Existential macro definition</code></pre>
<ul><li><em>Simple</em> macro definitions are processed unconditionally;
  <em>Existential</em> macro definitions are only processed if the macro
  has not been defined.
</li><li>A macro name consists of one or more alphanumeric, underscore or
  dash characters.
</li><li>Macro definition values are enclosed by single-quote characters
  and can extend over multiple lines.
</li><li>Macro definitions can be escaped with a leading backslash character
  prefix.
</li><li>A macro definition must start at the left margin.
</li><li>Macro definition lines ending with a single-quote character can be
  continued to the next line by appending a backslash character.
</li><li>Macro definition values can contain macro invocations. These are
  expanded when the definition is processed (not when it is invoked).
</li><li>Macro expansion can be disabled in multi-line macro definitions
  using a preceding <a href="#block-attributes">Block Attributes</a> <code>-macros</code>
  option.
</li></ul><h3>Macro invocations</h3>
<p>Invocation syntax:</p>
<pre class="light-background no-highlight"><code>{macro-name}                      Simple macro invocation
{macro-name|[param1|param2...]}   Parametrized macro invocation
{macro-name=pattern}              Inclusion macro invocation
{macro-name!pattern}              Exclusion macro invocation</code></pre>
<ul><li>A <em>Simple</em> macro invocation is replaced by the macro value.
</li><li><em>Parametrized</em> macro invocations replace <code>$1</code>, <code>$2</code> &hellip;  parameter
  names in the macro definition value with the corresponding parameter
  values.
<ul><li>If a macro parameter value is not specified then the corresponding
    parameter name is replaced by a blank string.
</li><li>Parameter names in macro definition values can be escaped with a
    backslash character prefix.
</li><li>Macro invocation parameters can contain inline Rimu elements;
     inline parameter values can span multiple lines.
</li></ul></li><li>The <code>{macro-name=pattern}</code> <em>Inclusion</em> invocation is replaced by a
  blank string if the macro value matches the <code>pattern</code> (where
  <code>pattern</code> is a JavaScript regular expression).  If the macro value
  does not match the <code>pattern</code> the containing line is skipped.
</li><li>The <code>{macro-name!pattern}</code> <em>Exclusion</em> invocation syntax is the
  inverse of the <code>{macro-name=pattern}</code> syntax i.e. the macro
  invocation is replaced by a blank string if the macro value does not
  match the <code>pattern</code>, if it does match the containing line is
  skipped.
</li><li>By default macro invocations are expanded everywhere except inside
  <em>Code</em> blocks and <em>Indented</em> paragraphs. Use the <a href="#block-attributes">Block
  Attributes</a> <code>+macros</code> and <code>-macros</code> options to
  enable and disable expansion inside <a href="#delimited-blocks">Delimited
  blocks</a>.
</li><li>Undefined macro invocations are not processed and are passed verbatim
  to the output.
</li><li>Macro invocations can be escaped in block elements that have macro
  expansion enable using a leading backslash character prefix. Escaped
  macro invocations are rendered verbatim minus the backslash.
  Escaping is unnecessary in blocks that do not perform macro
  expansion (<em>Code</em> blocks and <em>Indented</em> paragraphs).
</li><li>Macro invocations cannot be nested.
</li><li>Macro invocations can contain <code>}</code> characters but they must be
  escaped with a backslash character (otherwise they will be mistaken
  for the macro's closing brace).
</li><li>Macro definitions are not processed if the <a href="#api-options">safeMode API
  option</a> is non-zero and bit 3 of <a href="#api-options">safeMode API
  option</a> is not set.
</li></ul><h4>Examples</h4>
<table class="example table table-bordered">
<tbody>
<tr>
<td class="example-header" style="width:10%;">
<span class="icon-edit no-print" title="Edit example" style="cursor:pointer;" onclick="editExample('macros-example')"></span>
Rimu source</td>
<td>
<pre id="macros-example-source" class="example-source no-highlight"><code>// Define some macros.
{info} = '&lt;span class="label label-info"&gt;$1&lt;/span&gt;'
{heads-up} = '{info|Heads up!}'
{note} = '{info|Note} &lt;mark&gt;$1&lt;/mark&gt;'
{rimu-playground} = '[Rimu Playground](http://srackham.github.io/rimu/rimuplayground.html)'
{sidebar} = '#### $1
."padding-left: 10px; border-left: 4px solid silver; margin-bottom: 1em;"'

// Use the macros.
{sidebar|Fun with Macros}
..
{heads-up} See the {rimu-playground} for documentation and hands-on
experimentation.

{note|This document is not yet finished.}
..</code></pre>
<textarea id="macros-example-edit" class="example-edit" onkeyup="updateExample('macros-example')"></textarea>
</td>
</tr>
<tr><td class="example-header" style="width:10%;">Rendered HTML</td>
<td>
<div id="macros-example-rendered" class="example-rendered">
<h4>Fun with Macros</h4>
<div style="padding-left: 10px; border-left: 4px solid silver; margin-bottom: 1em;"><p><span class="label label-info">Heads up!</span> See the <a href="http://srackham.github.io/rimu/rimuplayground.html">Rimu Playground</a> for documentation and hands-on
experimentation.</p>
<p><span class="label label-info">Note</span> <mark>This document is not yet finished.</mark></p></div>
</div>
</td></tr></table>
<h3>Macro expansion</h3>
<ul><li>Macro invocations are expanded before other elements are processed.
</li><li>Macro invocations are processed as <a href="#inline-elements">Inline
  elements</a> with one exception: If a block element
  begins with a Macro Invocation that is wholly contained on the first
  line then macro invocations in the first line are expanded prior to
  all other processing, this behaviour enables the following
  use-cases:
<ol><li><a href="tips.html#conditional-inclusion">Conditional inclusion</a> of <a href="#line-blocks">Line
    Block</a> elements by prefixing them with <em>Inclusion</em> or
    <em>Exclusion</em> macros.
</li><li>Macros can be used to generate Rimu Block elements. For example, the
    <code>sidebar</code> macro in the examples above generates a <em>Header</em> block
    element followed by a <em>Block Attributes</em> block element.
</li></ol></li></ul><h3>Reserved macros</h3>
<p>Macros with names starting with two hyphen characters are <em>Reserved</em>
macros, a number of reserved macros are defined by the <a href="#rimuc-command">rimuc
command</a>.</p>
<h2 id="vim-syntax-file">Vim syntax file</h2>
<p>The Rimu distribution includes a
<a href="https://github.com/srackham/rimu/blob/master/src/vim/syntax/rimu.vim">syntax
highlighter</a> for the Vim editor. Copy <code>rimu.vim</code> to your
<code>$HOME/.vim/syntax</code> directory and then use the Vim <code>:set syn=rimu</code>
command or put this line in your <code>$HOME/.vimrc</code> file to enable Rimu
syntax highlighting:</p>
<pre class="no-highlight"><code>autocmd BufRead,BufNewFile *.rmu setlocal filetype=rimu</code></pre>
<p>The syntax file also sets Vim text formatting options, if they're not
to your taste delete them from the end of the file.</p>
<h2>Other</h2>
<ul><li>By convention Rimu markup text files have a <code>.rmu</code> file name
  extension but if your markup is confined to Rimu's Markdown
  compatible subset then use <code>.md</code> to signal you intent.
</li></ul>
</div>
<script src="http://yandex.st/highlightjs/7.3/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script>
<script>
window.onload = function() {
  var headings = [].slice.call(document.body.querySelectorAll('#contents > h1, #contents > h2, #contents > h3'));
  headings.forEach(function(heading, index) {
    var title = heading.textContent;
    var id = heading.getAttribute('id');
    if (!id) {
      id = slugify(title);
      heading.setAttribute('id', id);
    }
    if (index === 0 && heading.tagName === 'H1') {
      id = ''; // Go to top of page.
    }
    appendTocEntry(heading, id);
  });
}
function slugify(text) {
  var slug = text.replace(/\s+/g, '-') // Replace spaces with dashes.
      .replace(/[^\w-]/g, '')          // Retain alphanumeric, '-' and '_' characters.
      .toLowerCase()
  if (!slug) slug = 'x';
  if (document.getElementById(slug)) { // Another element already has that id.
    var i = 2, prefix = slug;
    while (document.getElementById(slug = prefix + '-' + i++)) {}
  }
  return slug;
}
</script>
<script>
function appendTocEntry(heading, id) {
  if (heading.classList.contains('no-auto-toc')) {
    return;
  }
  var container = document.getElementById('auto-toc');
  if (container === null) {
    return;
  }
  var tocLink = document.createElement('a');
  tocLink.setAttribute('href', '#' + id);
  tocLink.textContent = heading.textContent;
  var tocEntry = document.createElement('div');
  tocEntry.setAttribute('class', heading.tagName.toLowerCase());
  tocEntry.appendChild(tocLink);
  container.appendChild(tocEntry);
}
</script>
</body>
</html>