!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Rimu=t():e.Rimu=t()}("undefined"!=typeof self?self:this,function(){return function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=10)}([function(e,t,r){"use strict";function n(e){return e.replace(/[\-\/\\^$*+?.()|\[\]{}]/g,"\\$&")}function i(e){return e.replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;")}function a(e,t,r){return void 0===r&&(r={}),t.replace(/(\${1,2})(\d)/g,function(){"$$"===arguments[1]?r.spans=!0:r.specials=!0;var t=Number(arguments[2]),n=e[t];return void 0===n?(p.errorCallback("undefined replacement group: "+arguments[0]),""):c(n,r)})}function o(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t}function s(e,t){for(var r in t)e[r]=t[r]}function c(e,t){return t.macros&&(e=u.render(e)),t.spans?e=f.render(e):t.specials&&(e=i(e)),e}Object.defineProperty(t,"__esModule",{value:!0});var l=r(2),u=r(3),p=r(1),f=r(7);t.escapeRegExp=n,t.replaceSpecialChars=i,t.replaceMatch=a,t.copy=o,t.merge=s,t.replaceInline=c;!function(e){function t(){e.classes="",e.id="",e.css="",e.attributes="",e.options={},a=[]}function r(t){var r=t[0];r=c(r,{macros:!0});var n=/^\\?\.((?:\s*[a-zA-Z][\w\-]*)+)*(?:\s*)?(#[a-zA-Z][\w\-]*\s*)?(?:\s*)?(?:"(.+?)")?(?:\s*)?(\[.+])?(?:\s*)?([+-][ \w+-]+)?$/.exec(r);return!!n&&(p.skipBlockAttributes()||(n[1]&&(e.classes+=" "+n[1].trim(),e.classes=e.classes.trim()),n[2]&&(e.id=n[2].trim().slice(1)),n[3]&&(e.css&&";"!==e.css.substr(-1)&&(e.css+=";"),e.css+=" "+n[3].trim(),e.css=e.css.trim()),n[4]&&!p.isSafeModeNz()&&(e.attributes+=" "+n[4].slice(1,n[4].length-1).trim(),e.attributes=e.attributes.trim()),l.setBlockOptions(e.options,n[5])),!0)}function n(t){if(!t)return t;var r="";if(e.classes){var n=/^(<[^>]*class=")(.*?)"/i;n.test(t)?t=t.replace(n,"$1"+e.classes+' $2"'):r='class="'+e.classes+'"'}if(e.id){e.id=e.id.toLowerCase();var i=/^<[^<]*id=".*?"/i.test(t);i||a.indexOf(e.id)>-1?p.errorCallback("duplicate 'id' attribute: "+e.id):a.push(e.id),i||(r+=' id="'+e.id+'"')}if(e.css){var n=/^(<[^>]*style=")(.*?)"/i;n.test(t)?t=t.replace(n,function(t,r,n){return n=n.trim(),n&&";"!==n.substr(-1)&&(n+=";"),""+r+n+" "+e.css+'"'}):r+=' style="'+e.css+'"'}if(e.attributes&&(r+=" "+e.attributes),r=r.trim()){var o=t.match(/^<([a-zA-Z]+|h[1-6])(?=[ >])/);if(o){t=t.slice(0,o[0].length)+" "+r+t.slice(o[0].length)}}return e.classes="",e.id="",e.css="",e.attributes="",t}function i(e){var t=e.replace(/\W+/g,"-").replace(/-+/g,"-").replace(/(^-)|(-$)/g,"").toLowerCase();if(t||(t="x"),a.indexOf(t)>-1){for(var r=2;a.indexOf(t+"-"+r)>-1;)r++;t+="-"+r}return t}var a;e.init=t,e.parse=r,e.inject=n,e.slugify=i}(t.BlockAttributes||(t.BlockAttributes={}))},function(e,t,r){"use strict";function n(){g=0,h="<mark>replaced HTML</mark>",v=void 0}function i(){return 0!==g}function a(){return g}function o(){return 0!==g&&!!(4&g)}function s(e){var t=Number(e);if(isNaN(t)||t<0||t>15)return void d("illegal safeMode API option value: "+e);g=t}function c(e){void 0!==e&&(h=e)}function l(e){!1!==e&&"false"!==e&&(!0===e||"true"===e?b.init():d("illegal reset API option value: "+e))}function u(e){for(var t in e)switch(t){case"reset":case"safeMode":case"htmlReplacement":case"callback":break;default:return void d("illegal API option name: "+t)}"callback"in e&&(v=e.callback),"reset"in e&&l(e.reset),"callback"in e&&(v=e.callback),"safeMode"in e&&s(e.safeMode),"htmlReplacement"in e&&c(e.htmlReplacement)}function p(e,t){var r={};r[e]=t,u(r)}function f(e){switch(3&g){case 0:return e;case 1:return"";case 2:return h;case 3:return x.replaceSpecialChars(e);default:return""}}function d(e){v&&v({type:"error",text:e})}function m(e){var t="panic: "+e;console.error(t),d(t)}Object.defineProperty(t,"__esModule",{value:!0});var g,h,v,b=r(4),x=r(0);t.init=n,t.isSafeModeNz=i,t.getSafeMode=a,t.skipBlockAttributes=o,t.updateOptions=u,t.setOption=p,t.htmlSafeModeFilter=f,t.errorCallback=d,t.panic=m},function(e,t,r){"use strict";function n(){t.defs=v.map(function(e){return d.copy(e)}),t.defs.forEach(function(e,t){return e.expansionOptions=d.copy(v[t].expansionOptions)})}function i(e,r,n){void 0===n&&(n=[]),e.eof()&&m.panic("premature eof");for(var i=0,a=t.defs;i<a.length;i++){var o=a[i];if(!(n.length>0&&-1===n.indexOf(o.name?o.name:""))){var s=e.cursor.match(o.openMatch);if(s){if("\\"===s[0][0]&&"paragraph"!==o.name){e.cursor=e.cursor.slice(1);continue}if(o.verify&&!o.verify(s))continue;var c=o.delimiterFilter?o.delimiterFilter(s):"",l=[];c&&l.push(c),e.next();var u=e.readTo(o.closeMatch);null===u&&m.errorCallback("unterminated delimited block: "+s[0]),u&&(l=l.concat(u));var g={macros:!1,spans:!1,specials:!1,container:!1,skip:!1};if(d.merge(g,o.expansionOptions),d.merge(g,f.BlockAttributes.options),!g.skip){var h=l.join("\n");o.contentFilter&&(h=o.contentFilter(h,s,g));var v=o.openTag;"html"===o.name?h=f.BlockAttributes.inject(h):v=f.BlockAttributes.inject(v),g.container?(delete f.BlockAttributes.options.container,h=p.render(h)):h=d.replaceInline(h,g);var b=o.closeTag;"division"===o.name&&"<div>"===v&&(v="",b=""),r.write(v),r.write(h),r.write(b),(v||h||b)&&!e.eof()&&r.write("\n")}return f.BlockAttributes.options={},!0}}}return!1}function a(e){return t.defs.filter(function(t){return t.name===e})[0]}function o(e,t){if(t)for(var r=t.trim().split(/\s+/),n=0,i=r;n<i.length;n++){var a=i[n];m.isSafeModeNz()&&"-specials"===a?m.errorCallback("-specials block option not valid in safeMode"):/^[+-](macros|spans|specials|container|skip)$/.test(a)?e[a.slice(1)]="+"===a[0]:m.errorCallback("illegal block option: "+a)}}function s(e,t){var r=a(e);if(!r)return void m.errorCallback("illegal delimited block name: "+e+": |"+e+"|='"+t+"'");var n=t.trim().match(/^(?:(<[a-zA-Z].*>)\|(<[a-zA-Z\/].*>))?(?:\s*)?([+-][ \w+-]+)?$/);if(null===n)return void m.errorCallback("illegal delimited block definition: |"+e+"|='"+t+"'");n[1]&&(r.openTag=n[1],r.closeTag=n[2]),n[3]&&o(r.expansionOptions,n[3])}function c(e){return e[1]}function l(e){if(e[2]){var t=void 0;(t=e[2].trim())&&(f.BlockAttributes.classes=t)}return this.closeMatch=RegExp("^"+d.escapeRegExp(e[1])+"$"),""}function u(e,t,r){var n=t[0][t[0].length-t[1].length-1],i=t[0].match(/^{([\w\-]+\??)}/)[1];return e=e.replace(RegExp("("+n+") *\\\\\\n","g"),"$1\n"),e=e.replace(RegExp("("+n+" *[\\\\]+)\\\\\\n","g"),"$1\n"),e=d.replaceInline(e,r),g.setValue(i,e,n),""}Object.defineProperty(t,"__esModule",{value:!0});var p=r(4),f=r(0),d=r(0),m=r(1),g=r(3),h=/^(a|abbr|acronym|address|b|bdi|bdo|big|blockquote|br|cite|code|del|dfn|em|i|img|ins|kbd|mark|q|s|samp|small|span|strike|strong|sub|sup|time|tt|u|var|wbr)$/i,v=[{openMatch:g.LITERAL_DEF_OPEN,closeMatch:g.LITERAL_DEF_CLOSE,openTag:"",closeTag:"",expansionOptions:{macros:!0},delimiterFilter:c,contentFilter:u},{openMatch:g.EXPRESSION_DEF_OPEN,closeMatch:g.EXPRESSION_DEF_CLOSE,openTag:"",closeTag:"",expansionOptions:{macros:!0},delimiterFilter:c,contentFilter:u},{name:"comment",openMatch:/^\\?\/\*+$/,closeMatch:/^\*+\/$/,openTag:"",closeTag:"",expansionOptions:{skip:!0,specials:!0}},{name:"division",openMatch:/^\\?(\.{2,})([\w\s-]*)$/,openTag:"<div>",closeTag:"</div>",expansionOptions:{container:!0,specials:!0},delimiterFilter:l},{name:"quote",openMatch:/^\\?("{2,})([\w\s-]*)$/,openTag:"<blockquote>",closeTag:"</blockquote>",expansionOptions:{container:!0,specials:!0},delimiterFilter:l},{name:"code",openMatch:/^\\?(-{2,}|`{2,})([\w\s-]*)$/,openTag:"<pre><code>",closeTag:"</code></pre>",expansionOptions:{macros:!1,specials:!0},verify:function(e){return!("-"===e[1][0]&&""!==e[2].trim())},delimiterFilter:l},{name:"html",openMatch:/^(<!--.*|<!DOCTYPE(?:\s.*)?|<\/?([a-z][a-z0-9]*)(?:[\s>].*)?)$/i,closeMatch:/^$/,openTag:"",closeTag:"",expansionOptions:{macros:!0},verify:function(e){return!e[2]||!h.test(e[2])},delimiterFilter:c,contentFilter:m.htmlSafeModeFilter},{name:"indented",openMatch:/^\\?(\s+\S.*)$/,closeMatch:/^$/,openTag:"<pre><code>",closeTag:"</code></pre>",expansionOptions:{macros:!1,specials:!0},delimiterFilter:c,contentFilter:function(e){var t=e.search(/\S/);return e.split("\n").map(function(e){var r=e.search(/\S|$/);return r>t&&(r=t),e.slice(r)}).join("\n")}},{name:"quote-paragraph",openMatch:/^\\?(>.*)$/,closeMatch:/^$/,openTag:"<blockquote><p>",closeTag:"</p></blockquote>",expansionOptions:{macros:!0,spans:!0,specials:!0},delimiterFilter:c,contentFilter:function(e){return e.split("\n").map(function(e){return e.replace(/^>/,"").replace(/^\\>/,">")}).join("\n")}},{name:"paragraph",openMatch:/(.*)/,closeMatch:/^$/,openTag:"<p>",closeTag:"</p>",expansionOptions:{macros:!0,spans:!0,specials:!0},delimiterFilter:c}];t.init=n,t.render=i,t.getDefinition=a,t.setBlockOptions=o,t.setDefinition=s},function(module,exports,__webpack_require__){"use strict";function init(){exports.defs=[{name:"--",value:""},{name:"--header-ids",value:""}]}function getValue(e){for(var t=0,r=exports.defs;t<r.length;t++){var n=r[t];if(n.name===e)return n.value}return null}function setValue(name,value,quote){if(0===Options.getSafeMode()||8&Options.getSafeMode()){var existential=!1;if("?"===name.slice(-1)&&(name=name.slice(0,-1),existential=!0),"--"===name&&""!==value)return void Options.errorCallback("the predefined blank '--' macro cannot be redefined");if("`"===quote)try{value=eval(value)}catch(e){Options.errorCallback("illegal macro expression: "+e.message+": "+value)}for(var _i=0,defs_2=exports.defs;_i<defs_2.length;_i++){var def=defs_2[_i];if(def.name===name)return void(existential||(def.value=value))}exports.defs.push({name:name,value:value})}}function render(e,t){void 0===t&&(t=!1);var r=/\\?{([\w\-]+)([!=|?](?:|[^]*?[^\\]))}/g,n=/\\?{([\w\-]+)()}/g,i=[],a=e;return[n,r].forEach(function(r){a=a.replace(r,function(a){for(var o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];if("\\"===a[0])return a.slice(1);var c=o[0],l=o[1]||"";if("?"===l[0])return t||Options.errorCallback("existential macro invocations are deprecated: "+a),a;var u=getValue(c);if(null===u)return t||Options.errorCallback("undefined macro: "+a+": "+e),a;if(r===n)return i.push(u),"";switch(l=l.replace(/\\}/g,"}"),l[0]){case"|":var p=l.slice(1).split("|"),f=/\\?(\$\$?)(\d+)(\\?:(|[^]*?[^\\])\$)?/g;return u=(u||"").replace(f,function(e,t,r,n,i){if("\\"===e[0])return e.slice(1);if(0===Number(r))return e;var a=p[Number(r)-1];return a=void 0===a?"":a,void 0!==n&&("\\"===n[0]?a+=n.slice(1):""===a&&(a=i,a=a.replace(/\\\$/g,"$"))),"$$"===t&&(a=Spans.render(a)),a});case"!":case"=":var d=l.slice(1),m=!1;try{m=!RegExp("^"+d+"$").test(u||"")}catch(r){return t||Options.errorCallback("illegal macro regular expression: "+d+": "+e),a}return"!"===l[0]&&(m=!m),m?"":"";default:return Options.errorCallback("illegal macro syntax: "+a[0]),""}})}),a=a.replace(/\u0002/g,function(){return 0===i.length?(Options.errorCallback("repeated macro parameters: "+e),""):i.shift()}),-1!==a.indexOf("")&&(a=a.split("\n").filter(function(e){return-1===e.indexOf("")}).join("\n")),a}Object.defineProperty(exports,"__esModule",{value:!0});var Options=__webpack_require__(1),Spans=__webpack_require__(7);exports.MATCH_LINE=/^({(?:[\w\-]+)(?:[!=|?](?:|.*?[^\\]))?}).*$/,exports.LINE_DEF=/^\\?{([\w\-]+\??)}\s*=\s*(['`])(.*)\2$/,exports.LITERAL_DEF_OPEN=/^\\?{[\w\-]+\??}\s*=\s*'(.*)$/,exports.LITERAL_DEF_CLOSE=/^(.*)'$/,exports.EXPRESSION_DEF_OPEN=/^\\?{[\w\-]+\??}\s*=\s*`(.*)$/,exports.EXPRESSION_DEF_CLOSE=/^(.*)`$/,exports.defs=[],exports.init=init,exports.getValue=getValue,exports.setValue=setValue,exports.render=render},function(e,t,r){"use strict";function n(e){for(var t=new s.Reader(e),r=new s.Writer;!t.eof()&&(t.skipBlankLines(),!t.eof());)c.render(t,r)||l.render(t,r)||o.render(t,r)||p.panic("no matching delimited block found");return r.toString()}function i(){a.BlockAttributes.init(),p.init(),o.init(),u.init(),f.init(),d.init()}Object.defineProperty(t,"__esModule",{value:!0});var a=r(0),o=r(2),s=r(8),c=r(9),l=r(11),u=r(3),p=r(1),f=r(5),d=r(6);t.render=n,t.init=i},function(e,t,r){"use strict";function n(){c=p.map(function(e){return u.copy(e)}),i()}function i(){var e=c.map(function(e){return u.escapeRegExp(e.quote)});t.quotesRe=RegExp("\\\\?("+e.join("|")+")([^\\s\\\\]|\\S[\\s\\S]*?[^\\s\\\\])\\1","g"),l=RegExp("\\\\("+e.join("|")+")","g")}function a(e){return c.filter(function(t){return t.quote===e})[0]}function o(e){return e.replace(l,"$1")}function s(e){for(var t=0,r=c;t<r.length;t++){var n=r[t];if(n.quote===e.quote)return n.openTag=e.openTag,n.closeTag=e.closeTag,void(n.spans=e.spans)}2===e.quote.length?c.unshift(e):c.push(e),i()}Object.defineProperty(t,"__esModule",{value:!0});var c,l,u=r(0),p=[{quote:"**",openTag:"<strong>",closeTag:"</strong>",spans:!0},{quote:"*",openTag:"<em>",closeTag:"</em>",spans:!0},{quote:"__",openTag:"<strong>",closeTag:"</strong>",spans:!0},{quote:"_",openTag:"<em>",closeTag:"</em>",spans:!0},{quote:"``",openTag:"<code>",closeTag:"</code>",spans:!1},{quote:"`",openTag:"<code>",closeTag:"</code>",spans:!1},{quote:"~~",openTag:"<del>",closeTag:"</del>",spans:!0}];t.init=n,t.initializeRegExps=i,t.getDefinition=a,t.unescape=o,t.setDefinition=s},function(e,t,r){"use strict";function n(){t.defs=s.map(function(e){return o.copy(e)})}function i(e,r,n){/g/.test(r)||(r+="g");for(var i=0,a=t.defs;i<a.length;i++){var o=a[i];if(o.match.source===e)return o.match=new RegExp(e,r),void(o.replacement=n)}t.defs.push({match:new RegExp(e,r),replacement:n})}Object.defineProperty(t,"__esModule",{value:!0});var a=r(1),o=r(0),s=[{match:/\\?<<#([a-zA-Z][\w\-]*)>>/g,replacement:'<span id="$1"></span>',filter:function(e){return a.skipBlockAttributes()?"":o.replaceMatch(e,this.replacement)}},{match:/\\?<image:([^\s|]+)\|([^]*?)>/g,replacement:'<img src="$1" alt="$2">'},{match:/\\?<image:([^\s|]+?)>/g,replacement:'<img src="$1" alt="$1">'},{match:/\\?!\[([^[]*?)]\((\S+?)\)/g,replacement:'<img src="$2" alt="$1">'},{match:/\\?<(\S+@[\w.\-]+)\|([^]+?)>/g,replacement:'<a href="mailto:$1">$$2</a>'},{match:/\\?<(\S+@[\w.\-]+)>/g,replacement:'<a href="mailto:$1">$1</a>'},{match:/\\?\[([^[]*?)]\((\S+?)\)/g,replacement:'<a href="$2">$$1</a>'},{match:/\\?<(\S+?)\|([^]*?)>/g,replacement:'<a href="$1">$$2</a>'},{match:/\\?(<!--(?:[^<>&]*)?-->|<\/?([a-z][a-z0-9]*)(?:\s+[^<>&]+)?>)/gi,replacement:"",filter:function(e){return a.htmlSafeModeFilter(e[1])}},{match:/\\?<([^|\s]+?)>/g,replacement:'<a href="$1">$1</a>'},{match:/\\?((?:http|https):\/\/[^\s"']*[A-Za-z0-9\/#])/g,replacement:'<a href="$1">$1</a>'},{match:/\\?(&[\w#][\w]+;)/g,replacement:"",filter:function(e){return e[1]}},{match:/[\\ ]\\(\n|$)/g,replacement:"<br>$1"},{match:/(\S\\)(?=`)/g,replacement:"$1"},{match:/([a-zA-Z0-9]_)(?=[a-zA-Z0-9])/g,replacement:"$1"}];t.init=n,t.setDefinition=i},function(e,t,r){"use strict";function n(e){var t;t=s(e);var r=[{text:t,done:!1}];return r=a(r),p(r),t=i(r),c(t)}function i(e){return e.reduce(function(e,t){return e+t.text},"")}function a(e){var t;return t=[],e.forEach(function(e){t.push.apply(t,o(e))}),t.filter(function(e){return!e.done}).forEach(function(e){return e.text=f.unescape(e.text)}),t}function o(e){if(e.done)return[e];var t,r=f.quotesRe;for(r.lastIndex=0;;){if(!(t=r.exec(e.text)))return[e];if("\\"!==t[0][0])break;r.lastIndex=t.index+t[1].length+1}for(var n=[],i=f.getDefinition(t[1]);e.text[r.lastIndex]===t[1][0];)t[2]+=t[1][0],r.lastIndex+=1;var a=t.input.slice(0,t.index),s=t[2],c=t.input.slice(r.lastIndex);return n.push({text:a,done:!1}),n.push({text:i.openTag,done:!0}),i.spans?n.push.apply(n,o({text:s,done:!1})):(s=m.replaceSpecialChars(s),s=s.replace(/\u0000/g,""),n.push({text:s,done:!0})),n.push({text:i.closeTag,done:!0}),n.push.apply(n,o({text:c,done:!1})),n}function s(e){return g=[],l([{text:e,done:!1}]).reduce(function(e,t){return t.done?(g.push(t),e+"\0"):e+t.text},"")}function c(e){return e.replace(/[\u0000\u0001]/g,function(e){var t=g.shift();return"\0"===e?t.text:m.replaceSpecialChars(t.verbatim)})}function l(e){var t;return d.defs.forEach(function(r){t=[],e.forEach(function(e){t.push.apply(t,u(e,r))}),e=t}),e}function u(e,t){if(e.done)return[e];var r,n=t.match;if(n.lastIndex=0,!(r=n.exec(e.text)))return[e];var i=[],a=r.input.slice(0,r.index),o=r.input.slice(n.lastIndex);i.push({text:a,done:!1});var s;return s="\\"===r[0][0]?m.replaceSpecialChars(r[0].slice(1)):t.filter?t.filter(r):m.replaceMatch(r,t.replacement),i.push({text:s,done:!0,verbatim:r[0]}),i.push.apply(i,u({text:o,done:!1},t)),i}function p(e){e.filter(function(e){return!e.done}).forEach(function(e){return e.text=m.replaceSpecialChars(e.text)})}Object.defineProperty(t,"__esModule",{value:!0});var f=r(5),d=r(6),m=r(0);t.render=n;var g},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){e=e.replace("\0"," "),e=e.replace(""," "),e=e.replace(""," "),e=e.replace(""," "),this.lines=e.split(/\r\n|\r|\n/g),this.pos=0}return Object.defineProperty(e.prototype,"cursor",{get:function(){return console.assert(!this.eof()),this.lines[this.pos]},set:function(e){console.assert(!this.eof()),this.lines[this.pos]=e},enumerable:!0,configurable:!0}),e.prototype.eof=function(){return this.pos>=this.lines.length},e.prototype.next=function(){this.eof()||this.pos++},e.prototype.readTo=function(e){for(var t=[],r=null;!this.eof();){if(r=this.cursor.match(e)){void 0!==r[1]&&t.push(r[1]),this.next();break}t.push(this.cursor),this.next()}return r||"/^$/"===e.toString()&&this.eof()?t:null},e.prototype.skipBlankLines=function(){for(;!this.eof()&&""===this.cursor.trim();)this.next()},e}();t.Reader=n;var i=function(){function e(){this.buffer=[]}return e.prototype.write=function(e){this.buffer.push(e)},e.prototype.toString=function(){return this.buffer.join("")},e}();t.Writer=i},function(e,t,r){"use strict";function n(e,t,r){void 0===r&&(r=[]),e.eof()&&s.panic("premature eof");for(var n=0,a=p;n<a.length;n++){var o=a[n];if(!(r.length>0&&-1===r.indexOf(o.name?o.name:""))){var c=o.match.exec(e.cursor);if(c){if("\\"===c[0][0]){e.cursor=e.cursor.slice(1);continue}if(o.verify&&!o.verify(c,e))continue;var l=void 0;return l=o.filter?o.filter(c,e):o.replacement?u.replaceMatch(c,o.replacement,{macros:!0}):"",l?(l=i.BlockAttributes.inject(l),t.write(l),e.next(),e.eof()||t.write("\n")):e.next(),!0}}}return!1}Object.defineProperty(t,"__esModule",{value:!0});var i=r(0),a=r(2),o=r(3),s=r(1),c=r(5),l=r(6),u=r(0),p=[{match:/^\\?\/{2}(.*)$/},{match:o.MATCH_LINE,verify:function(e,t){if(o.LITERAL_DEF_OPEN.test(e[0])||o.EXPRESSION_DEF_OPEN.test(e[0]))return!1;var r=o.render(e[0],!0);if(r.substr(0,e[0].length)===e[0]||r.indexOf("\n"+e[0])>=0)return!1;var n=[t.pos+1,0].concat(r.split("\n"));return Array.prototype.splice.apply(t.lines,n),!0},filter:function(e,t){return""}},{match:/^\\?\|([\w\-]+)\|\s*=\s*'(.*)'$/,filter:function(e){return s.isSafeModeNz()?"":(e[2]=u.replaceInline(e[2],{macros:!0}),a.setDefinition(e[1],e[2]),"")}},{match:/^(\S{1,2})\s*=\s*'([^|]*)(\|{1,2})(.*)'$/,filter:function(e){return s.isSafeModeNz()?"":(c.setDefinition({quote:e[1],openTag:u.replaceInline(e[2],{macros:!0}),closeTag:u.replaceInline(e[4],{macros:!0}),spans:"|"===e[3]}),"")}},{match:/^\\?\/(.+)\/([igm]*)\s*=\s*'(.*)'$/,filter:function(e){if(s.isSafeModeNz())return"";var t=e[1],r=e[2],n=e[3];return n=u.replaceInline(n,{macros:!0}),l.setDefinition(t,r,n),""}},{match:o.LINE_DEF,filter:function(e){var t=e[1],r=e[2],n=e[3];return n=u.replaceInline(n,{macros:!0}),o.setValue(t,n,r),""}},{match:/^\\?([#=]{1,6})\s+(.+?)(?:\s+\1)?$/,replacement:"<h$1>$$2</h$1>",filter:function(e){return e[1]=e[1].length.toString(),o.getValue("--header-ids")&&""===i.BlockAttributes.id&&(i.BlockAttributes.id=i.BlockAttributes.slugify(e[2])),u.replaceMatch(e,this.replacement,{macros:!0})}},{match:/^\\?<image:([^\s|]+)\|([^]+?)>$/,replacement:'<img src="$1" alt="$2">'},{match:/^\\?<image:([^\s|]+?)>$/,replacement:'<img src="$1" alt="$1">'},{match:/^\\?<<#([a-zA-Z][\w\-]*)>>$/,replacement:'<div id="$1"></div>',filter:function(e,t){return s.skipBlockAttributes()?"":u.replaceMatch(e,this.replacement,{macros:!0})}},{name:"attributes",match:/^\\?\.[a-zA-Z#"\[+-].*$/,verify:function(e){return i.BlockAttributes.parse(e)}},{match:/^\\?\.(\w+)\s*=\s*'(.*)'$/,filter:function(e){if(!s.isSafeModeNz()){var t=u.replaceInline(e[2],{macros:!0});s.setOption(e[1],t)}return""}}];t.render=n},function(e,t,r){"use strict";function n(e,t){return void 0===t&&(t={}),a.updateOptions(t),i.render(e)}Object.defineProperty(t,"__esModule",{value:!0});var i=r(4),a=r(1);t.render=n,i.init()},function(e,t,r){"use strict";function n(e,t){e.eof()&&f.panic("premature eof");var r;return!!(r=s(e))&&(c=[],i(r,e,t),0!==c.length&&f.panic("list stack failure"),!0)}function i(e,t,r){c.push(e.id),r.write(m.BlockAttributes.inject(e.def.listOpenTag));for(var n;;){if(!(n=a(e,t,r))||n.id!==e.id)return r.write(e.def.listCloseTag),c.pop(),n;e=n}}function a(e,t,r){var n,a=e.def,u=e.match;4===u.length?(r.write(m.BlockAttributes.inject(a.termOpenTag)),n=d.replaceInline(u[1],{macros:!0,spans:!0}),r.write(n),r.write(a.termCloseTag),r.write(a.itemOpenTag)):r.write(m.BlockAttributes.inject(a.itemOpenTag));var f=new p.Writer;n=u[u.length-1],f.write(n+"\n"),t.next();for(var g,h,v=new p.Writer,b=!1;;){if((g=o(t,v))>=2||-1===g){h=null;break}if(h=s(t)){-1!==c.indexOf(h.id)||(h=i(h,t,v));break}if(b)break;if(0===g){var x=c;c=[],l.render(t,v,["comment","code","division","html","quote"])?b=!0:(f.write(t.cursor+"\n"),t.next()),c=x}else if(1===g){if(!l.render(t,v,["indented","quote-paragraph"]))break;b=!0}}return n=f.toString().trim(),n=d.replaceInline(n,{macros:!0,spans:!0}),r.write(n),r.buffer=r.buffer.concat(v.buffer),r.write(a.itemCloseTag),h}function o(e,t){for(var r=0;;){if(e.eof())return-1;if(!u.render(e,t,["attributes"])){if(""!==e.cursor)return r;r++,e.next()}}}function s(e){if(e.eof())return null;for(var t={},r=0,n=g;r<n.length;r++){var i=n[r],a=i.match.exec(e.cursor);if(a)return"\\"===a[0][0]?(e.cursor=e.cursor.slice(1),null):(t.match=a,t.def=i,t.id=a[a.length-2],t)}return null}Object.defineProperty(t,"__esModule",{value:!0});var c,l=r(2),u=r(9),p=r(8),f=r(1),d=r(0),m=r(0),g=[{match:/^\\?\s*(-|\+|\*{1,4})\s+(.*)$/,listOpenTag:"<ul>",listCloseTag:"</ul>",itemOpenTag:"<li>",itemCloseTag:"</li>"},{match:/^\\?\s*(?:\d*)(\.{1,4})\s+(.*)$/,listOpenTag:"<ol>",listCloseTag:"</ol>",itemOpenTag:"<li>",itemCloseTag:"</li>"},{match:/^\\?\s*(.*[^:])(:{2,4})(|\s+.*)$/,listOpenTag:"<dl>",listCloseTag:"</dl>",itemOpenTag:"<dd>",itemCloseTag:"</dd>",termOpenTag:"<dt>",termCloseTag:"</dt>"}];t.render=n}])});
//# sourceMappingURL=rimu.min.js.map